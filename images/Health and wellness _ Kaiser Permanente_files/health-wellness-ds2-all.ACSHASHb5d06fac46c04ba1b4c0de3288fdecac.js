/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
/* unused harmony exports onDocLoad, getCardsInfo, populateCards, populateCardsdetails, isNull, fecthUUID, makeServiceCall, getCardstoReplace */


let uuid;
let cardTitles = '';
if (typeof (APF) !== 'undefined') {
    APF.on("pageready", onDocLoad);
} else {
    document.addEventListener('DOMContentLoaded', onDocLoad);
}

function onDocLoad() {
    $('.dynamic-cards-wrapper').each(function (i) {
        getCardsInfo($(this));
        $('.dynamic-cards-container .gs-card-pattern a.card').click(dccCardClick);
    });
}


function fecthUUID() {
    if (localStorage && localStorage.getItem('uuid-1')) {
        uuid = localStorage.getItem('uuid-1').split("|")[0];
    }
}

function getCardsInfo($this) {
    let serviceUrl = $this.attr('data-apiurl');
    let passuuid = $this.attr('data-passuuid');
    fecthUUID();
    if ((serviceUrl !== undefined && passuuid === 'true' && uuid)) {
        makeServiceCall(serviceUrl, $this);
    } else {
        console.log('Showing default cards');
        $this.show();
    }
}

function makeServiceCall(serviceUrl, $this) {
    $.ajax({
        type: "GET",
        url: serviceUrl + '/' + uuid,
        dataType: 'json',
        xhrFields: {
            withCredentials: true
        },
        success: function (data) {
            console.log('Cards results ' + JSON.stringify(data));
            populateCards($this, data);
            setDigitalDataAnalytics();
        },
        error: function (err) {
            console.log("Error while retrieving cards data " + err);
            $this.show();
        }
    });
}

function populateCards($this, data) {
    let cardstoreplaceArr = getCardstoReplace($this);
    if (cardstoreplaceArr && cardstoreplaceArr.length > 0 && data !== undefined && data.personalization !== undefined && data.personalization !== null) {
        let i;
        var actualNoCards = $('.dynamic-cards-container .gs-card-pattern a.card').length;
        for (i = 1; i <= cardstoreplaceArr.length; i++) {
            var cardDetails = data.personalization.find(element => element.cardNo === i);
            let cardtoReplace = cardstoreplaceArr[i - 1];
            if (cardtoReplace - 1 > -1 && cardtoReplace <= actualNoCards) {
                let $ele = $this.find('.gs-card-pattern a.card').eq(cardtoReplace - 1);
                populateCardsdetails($ele, cardDetails, $this);
            }
        }
    } else {
        $this.show();
    }
}


function getCardstoReplace($this) {
    let cardstoreplace = $this.data('cards-to-replace');
    let cardstoreplaceArray;
    if (cardstoreplace) {
        cardstoreplaceArray = cardstoreplace.toString().split(',');
    }
    return cardstoreplaceArray;
}

function populateCardsdetails($ele, cardDetails, $this) {
    if ($ele && cardDetails) {
        updateCardTitles(cardDetails);
        $ele.attr('data-analytics-click', isNull(cardDetails.title));
        $ele.attr('href', isNull(cardDetails.url));
        $ele.find('div.cmp-image').attr('data-cmp-src', isNull(cardDetails.image)).attr('data-asset', isNull(cardDetails.image));
        $ele.find('img.cmp-image__image').attr('alt', isNull(cardDetails.altText)).attr('src', isNull(cardDetails.image));
        $ele.find('.card__title').text(isNull(cardDetails.title));
        $ele.find('.card__body').html(isNull(cardDetails.description));
        if (isNull(cardDetails.title) !== '') {
            $ele.attr('data-analytics-click', 'pers:'+cardDetails.title);
        }
        $ele.attr('data-analytics-type', 'impression link');
        $ele.attr('data-analytics-location', 'bh-spotlight');
        $ele.attr('data-uuid', cardDetails.uuid);
        setTimeout(() => {
            $this.show();
        }, 500);
    } else {
        $this.show();
    }
}

function updateCardTitles(cardDetails) {
    var cardTitle = isNull(cardDetails.title);
    if (cardTitle !== '') {
        if (cardTitles == '') {
            cardTitles = "pers:" + cardDetails.title;
        } else {
            cardTitles = cardTitles + "|pers:" + cardDetails.title;
        }
    }
}

function setDigitalDataAnalytics() {
    if (cardTitles !== '') {
        window.digitalData['impressContent'] = cardTitles;
        window.digitalData['impression'] = true;
    }
}

function isNull(response) {
    if (response !== null && response !== 'null' && response !== 'undefined') {
        return response;
    }
    return '';
}

function dccCardClick(e) {
    var uuid = $(this).attr('data-uuid');
    if (uuid !== null || uuid !== undefined)
        _satellite.kpCustomEvent('articleClick', {
            uuid: uuid
        });
}


/******/ })()
;
//# sourceMappingURL=dynamicCardsContainer.js.map
!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=46)}([function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"k",(function(){return c})),i.d(t,"b",(function(){return f})),i.d(t,"l",(function(){return v})),i.d(t,"m",(function(){return d})),i.d(t,"i",(function(){return u})),i.d(t,"a",(function(){return h})),i.d(t,"r",(function(){return p})),i.d(t,"f",(function(){return m})),i.d(t,"h",(function(){return g})),i.d(t,"g",(function(){return b})),i.d(t,"p",(function(){return s})),i.d(t,"e",(function(){return w})),i.d(t,"s",(function(){return x})),i.d(t,"c",(function(){return _})),i.d(t,"q",(function(){return C})),i.d(t,"n",(function(){return y})),i.d(t,"j",(function(){return k})),i.d(t,"o",(function(){return o}));var a,n=i(2),s={city:"",zip:"",distanceValue:"",health_topic:"",renderListValue:"0"};function r(e,t){a=$("#health-class-search-form").attr("data-topic-calltype"),(s={city:"",zip:"",distanceValue:"",health_topic:"",renderListValue:"0"}).callType=e;var i=$(".search-class-autocomplete-input").val(),n=w($(".health-class-search-form-container").attr("data-topic"));/^[a-zA-Z\-\s()]+$/.test(i)?s.city=i.toLowerCase():s.zip=i,s.health_topic=e===a?"":n,s.distanceValue="50",s.region=$("#health-class-search-form").attr("data-region"),s.locale=$("html").attr("lang").toLowerCase(),function(e,t){var i=$("#health-class-search-form").attr("data-city-calltype");e.callType&&e.callType!==i?function(e){var t;e.city&&e.health_topic?(e.watsonVSources=$(".configvalues").attr("data-vsources-classes"),e.binningStateValue=$(".configvalues").attr("data-binningstate-city_topic").replace("{0}",e.city).replace("{1}",e.health_topic)):e.zip&&e.distanceValue&&e.health_topic?(e.watsonVSources=$(".configvalues").attr("data-vsources-proximity"),t=l(e.distanceValue),e.binningStateValue=$(".configvalues").attr("data-binningstate-distance_topic").replace("{0}",t).replace("{1}",e.health_topic)):e.city?(e.watsonVSources=$(".configvalues").attr("data-vsources-classes"),e.binningStateValue=$(".configvalues").attr("data-binningstate-city").replace("{0}",e.city)):e.zip&&e.distanceValue?(e.watsonVSources=$(".configvalues").attr("data-vsources-proximity"),t=l(e.distanceValue),e.binningStateValue=$(".configvalues").attr("data-binningstate-distance").replace("{0}",t)):e.health_topic?(e.watsonVSources=$(".configvalues").attr("data-vsources-topic"),e.binningStateValue=$(".configvalues").attr("data-binningstate-health_topic").replace("{0}",e.health_topic)):e.watsonVSources=$(".configvalues").attr("data-vsources-classes")}(e):e.watsonVSources=$(".configvalues").attr("data-vsources-classes");e.vproject=$(".configvalues").attr("data-vproject"),e.apimsUrl=$(".configvalues").attr("data-apimsurl"),e.region=$("#health-class-search-form").attr("data-region"),"searchResults"===e.callType?e.renderListValue=t:e.renderListValue=0;!function(e,t){e.binningStateValue?e.watsonUrlWithParameters=$(".configvalues").attr("data-search-endpoint-parameters").replace("{0}",e.watsonVSources).replace("{1}",e.vproject).replace("{2}",e.region).replace("{3}",e.zip).replace("{4}",e.binningStateValue).replace("{5}","").replace("{6}","").replace("{7}",e.locale).replace("{8}",e.renderListValue):e.watsonUrlWithParameters=$(".configvalues").attr("data-search-endpoint-parameters").replace("{0}",e.watsonVSources).replace("{1}",e.vproject).replace("{2}",e.region).replace("{3}",e.zip).replace("{4}","").replace("{5}","").replace("{6}","").replace("{7}",e.locale).replace("{8}",e.renderListValue);e.apimsUrlWithParameters=e.apimsUrl+e.watsonUrlWithParameters,"searchResults"===e.callType&&(e.apimsUrlWithParameters=e.apimsUrlWithParameters+"&v:state=root|root-0-"+t+"|0");!function(e){let t=$("#selectAllLabel").val(),i=$('.facility-filter-section input[type="radio"]:checked').val(),a=$('.class-filter-section input[type="radio"]:checked').val(),n=$('.language-filter-section input[type="radio"]:checked').val(),s=$('.fee-filter-section input[type="radio"]:checked').val();window.resultsOnLoad&&(i=o(i,"facility"),a=o(a,"format"),n=o(n,"language"),s=o(s,"fee"),window.facilityFilterClick=i,window.formatFilterClick=a,window.languageFilterClick=n,window.feeFilterClick=s);i&&!i.includes(t)&&(e.apimsUrlWithParameters=e.apimsUrlWithParameters+"&binning-state=facility=="+i);a&&!a.includes(t)&&(e.apimsUrlWithParameters=e.apimsUrlWithParameters+"&binning-state=format_label=="+a);n&&!n.includes(t)&&(e.apimsUrlWithParameters=e.apimsUrlWithParameters+"&binning-state=languages=="+n);s&&!s.includes(t)&&(e.apimsUrlWithParameters=e.apimsUrlWithParameters+"&binning-state=fee_required==No")}(e)}(e,t)}(s,t),window.searchData=s}function o(e,t){var i=Object(n.b)(searchCriteriaCookieName);if(null!==i&&!$.isEmptyObject(JSON.parse(i))){var a=JSON.parse(i);return console.log("Retaining filter cookies"+a),a[t+"-chiclet"]}return e}function l(e){return e.replace(/\D/g,"")}function c(e){var t;void 0!==e.binning&&(e=e.binning["binning-set"]),$(".health-class-search-wrapper .autocomplete-search__manual-search li").remove();for(var i=0;i<e.length;i++)"city"===e[i]["bs-id"]&&(t=e[i].bins);for(var a in t)t.hasOwnProperty(a)&&-1===t[a].label.search("none")&&$(".health-class-search-wrapper .autocomplete-search__manual-search ul").append($("<li>"+t[a].label+"</li>"))}function d(){$(".search-class-autocomplete-input").attr("data-val",""),$(".-validation-error").hide(),$(".search-form-group .search-class-autocomplete-input").removeClass("error-field").removeAttr("aria-invalid"),$(".search-form-group .search-clear-input-field .error-description").hide(),$(".search-form-group-topic label").removeClass("label-disabled"),$("#health-class-search-form .clear-input-textbox").removeAttr("aria-describedby"),$("#select-topic").attr("disabled",!1)}function u(){$(".search-form-group-city-zip .clear-input-button").show()}function h(){$(".search-class-autocomplete-input").removeClass("error-field").removeAttr("aria-invalid"),$(".search-clear-input-field .error-description").hide(),$(".search-form-group-city-zip .clear-input-button").show(),$(".search-form-group-city-zip .error-description").hide(),$("#health-class-search-form .clear-input-textbox").removeAttr("aria-describedby")}function p(){$(".zipcode-error").hide(),$("#select-topic").addClass("error-field").attr("aria-invalid","true"),$(".search-form-group-topic label").addClass("label-disabled"),$(".search-form-group-topic .no-topic-error.error-description").show(),$(".search-form-group-button").addClass("--flex"),$(".topic-field").attr("aria-describedby","notopic-error-description-list"),$(".topics-error").show(),$("#health-class-search-form #notification-pattern__title, #hw-form-section .notification-pattern__body p").focus()}function f(){$("#select-topic").removeClass("error-field").removeAttr("aria-invalid"),$(".search-form-group-topic label").removeClass("label-disabled"),$(".search-form-group-topic .error-description").hide(),$(".topic-field").removeAttr("aria-describedby"),$("#health-class-search-form .clear-input-textbox").removeAttr("aria-describedby"),$("#select-topic").attr("disabled",!1)}function m(){$(".-validation-error").hide(),$(".search-form-group-button").removeClass("--flex mg-btm"),$(".search-class-autocomplete-input").val(""),$(".search-form-group *").removeClass("error-field").removeAttr("aria-invalid"),$(".search-form-group .error-description").hide(),$(".topic-field").removeAttr("aria-describedby"),$("#health-class-search-form .clear-input-textbox").removeAttr("aria-describedby"),$("#health-search-form").find("input").attr("disabled",!1)}function g(){$(".search-form-group-city-zip .error-description").hide(),$(".-validation-error").hide(),$(".search-form-group-button").removeClass("--flex mg-btm"),$("#health-class-search-form .clear-input-textbox").removeAttr("aria-describedby")}function b(){$(".topics-error").hide(),$(".search-form-group-city-zip .clear-input-button").css("z-index","0"),$(".search-clear-input-field .zip-error.error-description").show(),$("#health-class-search-form .clear-input-textbox").attr("aria-describedby","zip-input-error-description-list"),$(".search-class-autocomplete-input").addClass("error-field").attr("aria-invalid","true"),$(".zipcode-error").show(),$("#health-class-search-form #notification-pattern__title, #hw-form-section .notification-pattern__body p").focus()}function v(e,t,i){var a;$("#select-topic").find("option").not(":first").remove();for(var n=0;n<e.length;n++)"health_topic"===e[n]["bs-id"]&&(a=e[n].bins);if(""!==a&&null!=a){for(var s in a)a.hasOwnProperty(s)&&$("#select-topic").append($("<option />").val(a[s].label).text(a[s].label));""!==t&&null!=t?$("#select-topic option:contains("+t+")").prop("selected",!0):$("#select-topic option:contains("+i+")").prop("selected",!0)}else window.noTopicsFlag=!0,$("#select-topic option:selected").text(i).prop("selected",!0),window.selectedTopic=$("#select-topic option:selected").text(),p();!function(e){$("#select-topic option:selected").text()===e&&(window.topicVal="")}(i)}function w(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))}function y(e){$(this).val($(this).val().replace(/[^a-zA-Z0-9\s\-\(\)]/g,"")),32===e.which&&0===this.value.length&&($(this).val($(this).val().replace(/[^a-zA-Z0-9\s\-\(\)]/g,"")),$(".search-form-group-city-zip .clear-input-button").hide(),e.preventDefault())}function C(){$(".search-results-text").hide(),$(".--no-results-msg").hide(),$(".--error__results").hide(),$(".-validation-error").show(),$(".search-form-group-button").addClass("--flex"),$(".search-form-group .error-description:visible").prev().find(".topic-field").addClass("error-field").attr("aria-invalid","true"),$(".search-form-group-city-zip .location-error.error-description").hide(),""===$(".search-form-group-city-zip .search-class-autocomplete-input").val()&&($(".search-form-group .search-class-autocomplete-input").addClass("error-field").attr("aria-invalid","true"),$('.search-form-group-city-zip .error-description:not(".location-error")').show(),$(".zipcode-error").show(),$("#health-class-search-form .clear-input-textbox").attr("aria-describedby","zip-input-error-description-list")),$("#select-topic :selected").text()===$("#select-topic option:first").text()&&($(".search-form-group .topic-field").addClass("error-field").attr("aria-invalid","true"),$(".topics-error").show(),$("#select-topic option").length>1?($(".search-form-group-topic .select-topic-error.error-description").show(),$(".topic-field").attr("aria-describedby","selecttopic-error-description-list")):($(".search-form-group-topic .no-topic-error.error-description").show(),$(".search-form-group-button").addClass("--flex"),$(".topic-field").attr("aria-describedby","notopic-error-description-list"))),$("#health-class-search-form #notification-pattern__title, #hw-form-section .notification-pattern__body p").focus()}function x(){var e;$(".search-class-autocomplete-input").removeClass("error-field").removeAttr("aria-invalid"),$(".search-clear-input-field .error-description").hide(),$("#health-class-search-form .clear-input-textbox").removeAttr("aria-describedby"),e=$(".search-class-autocomplete-input").val(),/^\d{5}$/.test(e)&&($(".search-form-group-city-zip .clear-input-button").show(),$(".search-form-group-city-zip .error-description").hide()),/^[a-zA-Z\-\s()]+$/.test(e)&&$(".search-form-group-city-zip .clear-input-button").show()}function _(){let e=[];$("#health-class-search-form .error-description:visible").each((function(){e.push($(this).data("errortext"))}));let t=e.toString();""!==t&&void 0!==t&&_satellite.kpCustomEvent("hcdError",{message:t})}function k(){$(".-validation-error").hide(),$(".search-form-group-button").removeClass("--flex mg-btm"),$(".search-form-group *").removeClass("error-field").removeAttr("aria-invalid"),$(".search-form-group .error-description").hide(),$(".topic-field").removeAttr("aria-describedby"),$("#health-class-search-form .clear-input-textbox").removeAttr("aria-describedby"),window.topicVal=$(this).val()}window.searchCriteria={},window.noTopicsFlag=!1,window.onLoadFlag=!0,window.selectedTopic,window.paginationCount,window.keyPressed,window.outageFlag=!1,window.cookieDomainName,window.topicVal,window.topicVal,window.searchData},function(t,i,a){"use strict";function n(e){e.stopPropagation(),$(document).on("click",c),d($(this))}function s(e){13!==e.which&&32!==e.which&&38!==e.which&&40!==e.which||(e.preventDefault(),d($(this)))}function r(){let e=$(".pagination-menu button.pagination-menu-dropdown, .sortby-section button.sortby-menu-dropdown:visible");"true"===e.attr("aria-expanded")&&(e.attr("aria-expanded",!1),e.focus())}function o(){let e=$(".pagination-menu:visible .pagination-menu-list-op:eq(0), .sortby-section:visible .sortby-menu-list-op:eq(0)"),t=document.activeElement.nextElementSibling;t?t.focus():e.focus()}function l(){let e=$(".pagination-menu:visible .pagination-menu-list-op:last, .sortby-section:visible .sortby-menu-list-op:last"),t=document.activeElement.previousElementSibling;t&&""!==$(document.activeElement).prev(":visible").text()?t.focus():e.focus()}function c(){let e=$(".pagination-menu button.pagination-menu-dropdown, .sortby-section button.sortby-menu-dropdown:visible");"true"===e.attr("aria-expanded")&&e.attr("aria-expanded",!1)}function d(e){"true"!==e.attr("aria-expanded")?(e.attr("aria-expanded",!0),$(".pagination-menu:visible .pagination-menu-list-op:eq(0), .sortby-section:visible .sortby-menu-list-op:eq(0)").focus()):e.attr("aria-expanded",!1)}function u(t){40===t&&(e.preventDefault(),o()),38===t&&(e.preventDefault(),l())}a.d(i,"e",(function(){return n})),a.d(i,"f",(function(){return s})),a.d(i,"a",(function(){return r})),a.d(i,"b",(function(){return o})),a.d(i,"c",(function(){return l})),a.d(i,"h",(function(){return c})),a.d(i,"g",(function(){return d})),a.d(i,"d",(function(){return u}))},function(e,t,i){"use strict";function a(e){let t,i=document.cookie,a=e+"=",n=i.indexOf("; "+a);if(-1===n){if(n=i.indexOf(a),t=i.indexOf("; ",n),0!==n)return null}else n+=2,t=document.cookie.indexOf(";",n),-1===t&&(t=i.length);return decodeURI(i.substring(n+a.length,t))}function n(e){document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+window.cookieDomainName}function s(e,t){let i,a;var n,s,r;i=new Date,a=i.getTime(),a+=432e5,i.setTime(a),n=e,s=encodeURI(JSON.stringify(t)),r=i,document.cookie=n+"="+s+"; expires="+r.toUTCString()+";domain="+window.cookieDomainName+"; path=/;secure"}i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return n})),i.d(t,"c",(function(){return s}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return w})),i.d(t,"f",(function(){return x})),i.d(t,"e",(function(){return v})),i.d(t,"h",(function(){return F})),i.d(t,"j",(function(){return k})),i.d(t,"b",(function(){return A})),i.d(t,"d",(function(){return T})),i.d(t,"c",(function(){return n})),i.d(t,"g",(function(){return j})),i.d(t,"i",(function(){return D}));var a=i(1);function n(e){let t=e.find("p:last").text().trim();_satellite.kpCustomEvent("hcdError",{message:t})}var s,r,o,l,c,d,u,h,p,f,m,g="",b="";function v(){if(void 0!==window.hcdLang&&""!==window.hcdLang)return""!==hcdGuid&&void 0!==hcdGuid?hcdFavoritesKey+":"+hcdGuid+"-"+window.hcdLang.toLowerCase():hcdFavoritesKey+"-"+window.hcdLang.toLowerCase()}function w(){var e,t=$(this),i=null;$(".class-details").length>0?(e=t.closest("health-class-details").next("facility-details")).length>0?(s=$("class-details-url").text().trim(),C(t.closest("health-class-details")),function(e){r=e.find("facility-name").text().trim(),o=e.find("address-line-1").text().trim(),l=e.find("city").text().trim()+", "+e.find("state").text().trim()+" "+e.find("zip").text().trim(),c=""!==$("#registrationDetails").find("class-phone").text()&&void 0!==$("#registrationDetails").find("class-phone").text()?$("#registrationDetails").find("class-phone").text().trim():$(".health-class-additional-info").find("alternate-contact").text().trim();g="",b=""}(e),i={facilityName:r,addressLine1:o,addressLine2:l,facilityPhoneNumber:c,dateTimeLine1:g,dateTimeLine2:b,facilityUrl:s}):(s=$("class-details-url").text().trim(),C(t.closest("health-class-details"))):(e=t.closest(".health-class-buttons").prev(".health-class-facility-information")).length>0?(s=e.parent().find("a.class_details").attr("href"),y(e.prevAll(".class-details-info")),function(e){var t=e.find(".facility-address .address-block");r=t.find(".-line-1").text(),o=t.find(".-line-2").text(),l=t.find(".-line-3").text(),c=t.find(".facility-phonenumber").text(),g=e.find(".session-block .-line-2").text(),b=e.find(".session-block .-line-3").text()}(e),i={facilityName:r,addressLine1:o,addressLine2:l,facilityPhoneNumber:c,dateTimeLine1:g,dateTimeLine2:b,facilityUrl:s}):(s=t.parent().prev().find(".class_details").attr("href"),y(t.closest(".health-class-buttons").prevAll(".class-details-info")));var a=v();!function(e,t){var i={healthClassTitle:d,formatTitle:u,whoCanAttend:h,fee:p,language:f,description:m,classUrl:s,facilityList:[]};null!==e&&i.facilityList.push(e);var a={id:"",healthClassList:[]};""!==hcdGuid&&void 0!==hcdGuid&&(a.id=hcdGuid+"-"+window.hcdLang.toLowerCase());a.healthClassList.push(i),console.log("jsonObj: "+a);var n=localStorage.getItem(t);null==n?window.storedJson=a:(n=JSON.parse(n),""!==hcdGuid&&void 0!==hcdGuid&&(n.id=hcdGuid+"-"+window.hcdLang.toLowerCase()),n.healthClassList.push(i),window.storedJson=n)}(i,a),_(a,t,"add")}function y(e){d=e.find(".program-title").text(),u=e.find(".format-title").text();var t=e.parent().find(".--body");h=t.find(".program-attendee .program-attendee-value").text(),p=t.find(".program-fee .program-fee-value").text(),f=t.find(".program-language .program-language-value").text(),m=e.parent().find(".facility-desc").attr("data-facilitydesc")}function C(e){d=$(".action-area .header-styles").text(),u=e.find("format").text().trim(),h=e.find("attendee").text().trim(),p=e.find("fee").text().trim(),f=e.find("languages .hcd-content").text().trim(),m=e.find("class-information").text().trim()}function x(e){var t,i=$(this);e=v(),t=$(".class-details").length>0?$("class-details-url").text().trim():i.parent().prev().find(".class_details").attr("href");var a=localStorage.getItem(e);if(null!=a&&""!==t){for(var n=(a=JSON.parse(a)).healthClassList.length-1;n>=0;n--)if(t===a.healthClassList[n].classUrl){a.healthClassList.splice(n,1);break}window.storedJson=a,_(e,i,"remove")}}function _(e,t,i){""!==hcdGuid&&void 0!==hcdGuid&&null!==window.storedJson&&void 0!==window.storedJson?L(storedJson,t,e,i):(localStorage.setItem(e,JSON.stringify(window.storedJson)),T(t,i),O(t))}function k(e,t,i,a){L(e,t,i,a)}function L(e,t,i,a){let s=$(".health-class-search-form-container, .favorites-classes-wrapper, .class-details").attr("data-hcdfavouritesendpoint"),r=t,o=i,l=e;if(r.closest(".health-class-result").find(".add-remove-favorites-error").removeClass("--flex"),r.closest(".favorites-class-container").find(".remove-favorites-error").removeClass("--flex"),void 0!==s&&""!==s){s+="save";const c=window.crypto.getRandomValues(new Uint32Array(1)).toString(16);$.ajax({type:"POST",url:s,data:JSON.stringify(e),headers:{"X-CorrelationId":c,"Content-Type":"application/json"},success:function(e){console.log("Save success"+e),localStorage.setItem(i,JSON.stringify(window.storedJson)),function(e,t,i){e.closest(".health-class-result").length>0?O(e):e.closest(".favorites-class-container").length>0?(localStorage.setItem(t,JSON.stringify(i)),$(".favoritesPagination .kpPagination__nav").attr("data-totalcount",i.healthClassList.length),e.closest(".favorites-class-container").remove(),D()):e.closest(".class-details").length>0&&O(e)}(r,o,l),T(t,a)},error:function(e){console.log("Error"+e),window.storedJson=null,function(e){e.closest(".health-class-result").length>0?(e.closest(".health-class-result").find(".add-remove-favorites-error").addClass("--flex"),n(e.closest(".health-class-result").find(".add-remove-favorites-error"))):e.closest(".favorites-class-container").length>0?(e.closest(".favorites-class-container").find(".remove-favorites-error").addClass("--flex"),n(e.closest(".favorites-class-container").find(".remove-favorites-error"))):e.closest(".class-details").length>0&&(e.closest(".class-details").find(".add-remove-favorites-error").addClass("--flex"),n(e.closest(".class-details").find(".add-remove-favorites-error")))}(r)}})}}function A(e){if($(".favoritesPagination").length>0){$(".pagination-wrapper").find(".kpPagination__list").attr("id","favorites-pagination"),$("ul#favorites-pagination").jPagination({containerID:"favorites-class-group",perPage:6,startPage:e,startRange:1,midRange:Math.ceil($(".favoritesPagination .kpPagination__nav").attr("data-totalcount")/6/2),endRange:1,pHolder:"pHolder"}),$(".kpPagination.favoritesPagination .pagination-menu button.pagination-menu-dropdown").on("click",a.e),$(".kpPagination.favoritesPagination .pagination-menu-list li").on("click",S),$(".kpPagination.favoritesPagination .pagination-menu-list li").on("keydown",P),$(".kpPagination.favoritesPagination .pagination-menu-dropdown").on("keydown",a.f)}}function S(e){e.preventDefault(),E($(this)),Object(a.a)()}function P(e){Object(a.d)(e.which),13!==e.which&&32!==e.which||(e.preventDefault(),E($(this)),Object(a.a)()),27!==e.which&&9!==e.which||(e.preventDefault(),Object(a.a)())}function E(e){!0!==e.hasClass("active")&&($(".favoritesPagination .pagination-menu-list .pagination-menu-list-op").removeClass("active"),e.addClass("active"),$(".favoritesPagination .pagination-menu-dropdown .pagination-menu-button-text").text(e.find(".pagination-menu-list-text").text()).attr("data-value",e.index()+1),window._currentPageNum=parseInt(e.attr("data-value")),A(window._currentPageNum),$("html, body").animate({scrollTop:$(document).find("#favorites-class-group").offset().top},"slow"))}function O(e){e.attr("class").indexOf("add_favorites")>-1?(e.hide(),e.next().show()):e.attr("class").indexOf("remove_favorites")>-1&&(e.hide(),e.prev().show())}function F(){$(".health-class-results-container .health-class-result:not(.hidden) .class_details, .class-details .add_favorites").each((function(){!function(e){let t;t=$(".class-details").length>0?$("class-details-url").text().trim():e.parent().find("a.class_details").attr("href");let i=localStorage.getItem(v());if(i=JSON.parse(i),null!=i&&null!==i.healthClassList&&i.healthClassList.length>0)for(var a=i.healthClassList.length-1;a>=0;a--)t===i.healthClassList[a].classUrl&&(console.log("matched url "+t),e.closest(".health-class-buttons").find(".add_favorites").hide(),e.closest(".health-class-buttons").find(".remove_favorites").show())}($(this))}))}function T(e,t){let i;i=$(".class-details").length>0?$("#classDetails").attr("data-classtitle"):e.closest(".--favorites-buttons").prevAll(".class-details-info").find(".program-title").text(),"undefined"!=typeof _satellite&&_satellite&&_satellite.kpCustomEvent("hcdFavorite",{action:t,className:i})}function j(){$(".favoritesPagination").hide(),$(".--no-favorites-msg").show(),localStorage.removeItem("favoritesPagination")}function D(){$(".favorites-class-container:visible").length>0?A(window._currentPageNum):0===$(".favorites-class-container:not(.hidden)").length?j():A(window._currentPageNum-1)}s=r=o=l=c=d=u=h=p=f=m="",window.hcdGuid="",window.hcdLang="",window.hcdFavoritesKey="hcdfavorites",window.storedJson=null},function(e,t,i){"use strict";i.d(t,"d",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"e",(function(){return u})),i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return h}));function a(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function n(e){var t=0;if(e.offsetParent)do{t+=e.offsetTop,e=e.offsetParent}while(e);return t<0?0:t}function s(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}let r=!1;const o=e=>{if(!c(e))return!1;r=!0;try{e.focus()}catch(e){}return r=!1,document.activeElement===e},l=(e,t)=>{const i=Array.from(e.childNodes),a=t?i.reverse():i;for(var n=0;n<a.length;n++)if(a[n].classList&&-1===a[n].classList.toString().indexOf("bracket-")&&(o(a[n])||l(a[n],t)))return!0;return!1},c=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!=e.rel;case"INPUT":return"hidden"!=e.type&&"file"!=e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},d=e=>{if(r)return;const t=e.currentTarget;t.contains(e.target)&&!/bracket-/.test(e.target.className)||l(t,/bracket-before/.test(e.target.className))},u=e=>{const t=s(e)?e:document.querySelector(e);t&&!t.querySelector(".bracket-before")&&(t.insertAdjacentHTML("afterbegin",'<div tabindex="0" class="bracket-before" />'),t.insertAdjacentHTML("beforeend",'<div tabindex="0" class="bracket-after" />'),t.addEventListener("focus",d,!0))};(function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}})(),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),a=1;a<arguments.length;a++){var n=arguments[a];if(null!==n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},writable:!0,configurable:!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozsMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),i=t.length;--i>=0&&t.item(i)!==this;);return i>-1}),Array.from||(Array.from=function(){var e;try{e=Symbol.iterator?Symbol.iterator:"Symbol(Symbol.iterator)"}catch(t){e="Symbol(Symbol.iterator)"}var t=Object.prototype.toString,i=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},a=Math.pow(2,53)-1,n=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),a)},s=function(t,i){var a=t&&i[e]();return function(e){return t?a.next():i[e]}},r=function(e,t,i,a,n,s){for(var r=0;r<i||n;){var o=a(r),l=n?o.value:o;if(n&&o.done)return t;t[r]=s?void 0===e?s(l,r):s.call(e,l,r):l,r+=1}if(n)throw new TypeError("Array.from: provided arrayLike or iterator has length more then 2 ** 52 - 1");return t.length=i,t};return function(t){var a=this,o=Object(t),l=i(o[e]);if(null==t&&!l)throw new TypeError("Array.from requires an array-like object or iterator - not null or undefined");var c,d=arguments.length>1?arguments[1]:void 0;if(void 0!==d){if(!i(d))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(c=arguments[2])}var u=n(o.length),h=i(a)?Object(new a(u)):new Array(u);return r(c,h,u,s(l,o),l,d)}}());class h{constructor(e,t){this.element=e,this.parentSelectors=[],this.attrs=t||[{"aria-hidden":!0}],this.parent=this.element.parentElement}init(){this.parentSelectors=[],this.selectElementsUp(),this.applyAttrs()}destroy(){this.removeAttrs()}removeAttrs(){this.parentSelectors.forEach((function(e,t){e.removeAttribute("aria-hidden")}))}applyAttrs(){this.parentSelectors=this.parentSelectors.filter(e=>!e.hasAttribute("aria-hidden")).filter(e=>e.querySelectorAll(".kp-foundation-modal, .kp-modals-container").length<=0).filter(e=>!e.classList.contains("kp-foundation-modal")&&!e.classList.contains("kp-modals-container")).filter(e=>null!==e.offsetParent),this.parentSelectors.forEach((function(e,t){e.setAttribute("aria-hidden",!0)}))}getSiblings(e){var t=[];if(!e.parentNode||!e.parentNode.firstChild)return t;for(var i=e.parentNode.firstChild;i;)s(i)&&i!==this.element&&!i.contains(this.element)&&t.push(i),i=i.nextSibling;return t}selectElementsUp(){for(var e=this.element;e;){if(s(e)){var t=this.getSiblings(e);this.parentSelectors=this.parentSelectors.concat(t)}if(e===document.body)break;e=e.parentElement}}}},function(e,t,i){"use strict";function a(e,t){$(e+" input").each((function(e){let i=$(this);!function(e,t){e===t.val()?(t.addClass("radio-selected"),t.removeClass("radio-disabled"),t.prop("checked",!0),t.attr("data-checked",!0)):(t.addClass("radio-disabled"),t.removeClass("radio-selected"),t.removeAttr("data-checked"))}(t,i)}))}i.d(t,"a",(function(){return a}))},function(e,t,i){"use strict";i.d(t,"e",(function(){return f})),i.d(t,"a",(function(){return O}));var a=i(3),n=i(7),s=i(2),r=i(5),o=i(1);i.d(t,"f",(function(){return o.f})),i.d(t,"b",(function(){return o.a})),i.d(t,"c",(function(){return o.b})),i.d(t,"d",(function(){return o.c})),i.d(t,"h",(function(){return o.h})),i.d(t,"g",(function(){return o.g}));var l={};window._currentPageNum=1,window.paginationFlag=!1,window.facilityFilterData,window.formatFilterData,window.feeFilterData,window.languageFilterData,window.filterBinningset;var c,d="",u="",h="",p="";function f(e){$(".health-class-results-container").attr("data-search-url",e),c=$("#selectAllLabel").val(),$.ajax({type:"GET",url:e,dataType:"json",success:function(e){!function(e){""!==e&&void 0===e.outage?e.list.document&&e.list.document.length>0?(function(e){var t=$(".health-class-search-form-container").attr("data-usercity"),i=$(".health-class-search-form-container").attr("data-userzip"),a=$(".health-class-search-form-container").attr("data-topic"),n=L(i),s=L(t),r=L(a);n=null===n?"":n,s=null===s?"":s,r=null===r?"":r;let o=void 0!==sessionStorage.getItem("browserLocationUsed")?"true":"false",l=!0===window.resultsOnLoad?"hcd search":"hcd";"undefined"!=typeof _satellite&&_satellite&&_satellite.kpCustomEvent("hcdSearch",{type:l,topic:r,city:s,zip:n,numOfResults:e.list.num,browserLocationUsed:o})}(e),$(".--no-results-msg").hide(),function(e){let t=[],i=[],o=[],f=[];console.log("Data :"+e);var g=e.list.document,_=e["added-sources"][0]["total-results"];window.paginationFlag||$(".health-classes-group").empty();_=parseInt(e["added-sources"][0]["total-results"]),Number.isNaN(_)||0===_?($(".health-class-results-container").attr("data-resultscount",0),$(".health-class-filters-wrapper").hide(),$(".classesPagination nav.kpPagination__nav").attr("data-totalcount",0),$(".health-classes-group").empty(),$(".classesPagination").hide()):($(".health-class-results-container").attr("data-resultscount",_),$(".classesPagination nav.kpPagination__nav").attr("data-totalcount",_),$(".classesPagination nav.kpPagination__nav").attr("data-paginationcount",window.paginationCount),$(".health-class-filters-wrapper").show());g.length>0&&(function(e){var t=$(".health-class-search-form-container").attr("data-usercity"),i=$(".health-class-search-form-container").attr("data-userzip"),a=$(".health-class-search-form-container").attr("data-topic"),n=L(i),s=L(t),r=L(a),o=$(".health-class-results-container").attr("data-resultscount"),l=$(".health-class-results-container").data("regionname"),c=$(".health-class-result-text").data("count-filter"),d=$(".health-class-result-text").data("topic-filter"),u=$(".health-class-result-text").data("zip-filter"),h=$(".health-class-result-text").data("city-filter"),p=$(".health-class-result-text").data("region-filter"),f=$(".health-class-result-text").data("summary-pattern"),m=0;void 0!==e.binning&&e.binning["binning-set"].find((function(e){e.bins&&"delivery_type"===e["bs-id"]&&e.bins.find((function(e){"delivery-in-person"===e.label&&(m=e.ndocs)}))}));0!==parseInt(m)&&0!==parseInt(o)||(f=f.replace("{3}","").replace("{4}",""));f=function(e,t,i,a,n){i?(n=n.replace("{2}",a).replace("{topic}","<span class='-medium'>"+i+"</span>"),e||t||(n=n.replace("{3}","").replace("{4}",""))):n=n.replace("{2}","");return n}(s,n,r,d,f),f=(f=function(e,t,i,a,n){e&&!t?i=i.replace("{3}","").replace("{4}",a).replace("{location}","<span class='-medium text-capitalize'>"+e+"</span>").replace("{radius}",""):!e&&t&&(i=(i=i.replace("{3}",n).replace("{4}","").replace("{location}","<span class='-medium'>"+t+"</span>")).replace("{radius}",""));return i}(s,n,f,h,u)).replace("{1}",c).replace("{5}",p).replace("{count}","<span class='search-results-count'>"+o+"</span>").replace("{region}","<span class='-medium'>"+l+"</span>"),$(".search-results-text").html('<div class="column-control-container">'+f+"</div>"),$(".search-results-text").removeClass("-hidden"),k(s,n,r)}(e),function(e){var t=$(".health-class-result.hidden"),i=$(".health-classes-group");$("<div class='page-wrapper -active' id='cards-page-"+window._currentPageNum+"'></div>").appendTo(i),$.each(e,(function(i){let a=t.clone().removeClass("hidden");var n=e[i].contents;a.attr("aria-labelledby","card-"+i+"-title"),a.attr("role","group"),a.find(".class-details-info  .program-title").attr("id","card-"+i+"-title"),function(e){let t=e;t.find(".title__container").addClass("content-loader"),t.find(".format__container").addClass("content-loader"),t.find(".facility-desc__container").addClass("content-loader"),t.find(".program-attendee").addClass("content-loader"),t.find(".program-language").addClass("content-loader"),t.find(".program-fee").addClass("content-loader"),t.find(".facility-address").addClass("content-loader"),t.find(".date-time-block").addClass("content-loader"),t.find(".button_container").addClass("content-loader")}(a),function(e,t){var i=t.p_url;e.find(".class-details-info  .program-title").text(t.title),e.find(".class-details-info .format-title").text(t.format_label),e.find(".facility-desc").text(t.class_description).attr("data-facilitydesc",t.class_description),function(e,t){var i,a=e.attendee;a?(i=a instanceof Array?a.join(" "):a,t.find(".--body .program-attendee .program-attendee-value").text(i)):t.find(".--body .program-attendee").addClass("hidden")}(t,e),function(e,t){var i,a=e.languages;a?(i=a instanceof Array?a.join(", "):a,t.find(".--body .program-language .program-language-value").text(i),t.find(".--body .program-language").attr("data-language",i)):t.find(".--body .program-language").addClass("hidden")}(t,e),function(e,t){var i=e.fee;i?t.find(".--body .program-fee .program-fee-value").text(i):t.find(".--body .program-fee").addClass("hidden")}(t,e),void 0!==t.facilityId&&null!==t.facilityId?function(e,t){var i=t.find(".health-class-facility-information .facility-address .address-block");(function(e,t){var i=e.facility,a=e.address_line_1;t.find(".-line-1").text(i),t.find(".-line-2").text(a);var n=e.city,s=e.state,r=e.zipcode,o="";n&&(o=o+n+", ");s&&(o=o+s+" ");r&&(o+=r);t.find(".-line-3").text(o);var l=e.fac_distance;l?(t.find(".facility-miles .facility-distance").text(l+" "),t.find(".facility-miles").removeClass("hidden")):t.find(".facility-miles").remove()})(e,i),function(e,t){var i=e.alternate_phone_number?e.alternate_phone_number:e.phone_number;i?(t.find(".facility-phonenumber").text(i),t.find(".facility-phonenumber-mobile").text(i).attr("href","tel:"+i).attr("data-analytics-click",i),t.find(".facility-phonenumber-mobile").on("click",v)):(t.find(".facility-phonenumber").remove(),t.find(".facility-phonenumber-mobile").remove())}(e,i),function(e,t){var i=t.find(".health-class-facility-information");"true"===e.more_sessions||parseInt(e.session1_time_slot_count)>1?function(e,t){var i="",a=e.session1_days,n=e.session1_start_date,s=e.session1_end_date,r=e.session1_time_slot1_start_time,o=e.session1_time_slot1_end_time,l=y(r,o);a?i=a+" "+l:(n&&s?i=w(n,s):n&&!s?i=n:!n&&s&&(i=s),l&&(i=i+", "+l));var c=t.find(".date-time-block .session-block .-line-3").data("additional-session");""!==i&&void 0!==i&&t.find(".date-time-block .session-block .-line-2").text(i);""!==c&&void 0!==c&&t.find(".date-time-block .session-block .-line-3").text(c)}(e,i):"true"!==e.more_sessions&&1===parseInt(e.session1_time_slot_count)?function(e,t){var i="",a="",n=e.session1_days,s=e.session1_start_date,r=e.session1_end_date,o=e.session1_time_slot1_start_time,l=e.session1_time_slot1_end_time;n?s&&r?(i=w(s,r),a=n+" "+y(o,l)):s&&!r?(i=s,a=y(o,l)):!s&&r?(i=r,a=y(o,l)):i=n+" "+y(o,l):(i=function(e,t,i){e&&t?i=w(e,t):e?i=e:t&&(i=t);return i}(s,r,i),a=y(o,l));!function(e,t,i){""!==e&&void 0!==e&&i.find(".date-time-block .session-block .-line-2").text(e);""!==t&&void 0!==t&&i.find(".date-time-block .session-block .-line-3").text(t)}(i,a,t)}(e,i):(parseInt(e.sessions_count),C(i))}(e,t)}(t,e):e.find(".health-class-facility-information").remove();x(e),e.find(".health-class-buttons .class_details").attr("href",i)}(a,n),a.appendTo($(".health-classes-group .page-wrapper:last"))})),Object(a.h)(),function(e){$(".classesPagination").show(),$(".classesPagination .kpPagination__count").show();var t=window.paginationCount;{let e,a=$(".health-class-results-container").attr("data-search-url");if(e=1*t-t,void 0!==a){if(""!==a){var i="root-"+e+"-"+t;a=a.replace(/(root-)\d*-\d*/,i)}l.navUrl===a?l.navUrl="":l.navUrl=a}}(0===$(".classesPagination ul.kpPagination__list .kpPagination__item").length||$(".-dropdownPagination").is(":visible"))&&S(e);A(),P()}(window._currentPageNum)}(g));("false"===$(".health-class-results-container").attr("data-resultscall-updatefilters")||window.resultsOnLoad)&&(N(window.facilityFilterClick,t,"#facility-chiclet",window.searchCriteria),N(window.formatFilterClick,i,"#format-chiclet",window.searchCriteria),N(window.languageFilterClick,o,"#language-chiclet",window.searchCriteria),N(window.feeFilterClick,f,"#fee-chiclet",window.searchCriteria));void 0!==e.binning&&"true"===$(".health-class-results-container").attr("data-resultscall-updatefilters")&&(c=$("#selectAllLabel").val(),window.filterBinningset=e.binning["binning-set"],function(e,t){var i,a,n,s,r,o,l,c,d,u,h=$(".health-class-filters-wrapper").attr("data-categorylabelsmap"),p=$(".health-class-filters-wrapper").attr("data-currentlanguage");if(void 0!==h){for(var f in h=JSON.parse(h))h[f]=h[f].substr(0,1).toUpperCase()+h[f].substr(1).toLowerCase(),d=z(f,h,r,i,o,a),r=d.categoryFacKey,i=d.categoryFacLabel,o=d.categoryFormatKey,a=d.categoryFormatLabel,u=q(f,h,l,n,c,s),l=u.categoryLangKey,n=u.categoryLangLabel,c=u.categoryFeeKey,s=u.categoryFeeLabel;null!=d&&(r=d.categoryFacKey,i=d.categoryFacLabel,o=d.categoryFormatKey,a=d.categoryFormatLabel),null!=u&&(l=u.categoryLangKey,n=u.categoryLangLabel,c=u.categoryFeeKey,s=u.categoryFeeLabel)}if(void 0!==e)for(var m=0;m<t.length;m++)U(m,t,r,i,p),H(m,t,o,a,p),M(m,t,l,n,p),V(m,t,c,s,p)}(e.binning,window.filterBinningset),$("#filter-loader").hide(),$(".filters-section").show(),function(){if(window.facilityFlag&&(m(".class-filter-section","format",window.formatFilterData),m(".language-filter-section","language",window.languageFilterData),m(".fee-filter-section","fee",window.feeFilterData)),window.formatFlag&&(m(".facility-filter-section","facility",window.facilityFilterData),m(".language-filter-section","language",window.languageFilterData),m(".fee-filter-section","fee",window.feeFilterData)),window.languageFlag&&(m(".facility-filter-section","facility",window.facilityFilterData),m(".class-filter-section","format",window.formatFilterData),m(".fee-filter-section","fee",window.feeFilterData)),window.facilityFlag||window.formatFlag||window.languageFlag||window.noFeeFlag||(m(".facility-filter-section","facility",window.facilityFilterData),m(".class-filter-section","format",window.formatFilterData),m(".language-filter-section","language",window.languageFilterData),m(".fee-filter-section","fee",window.feeFilterData)),window.selectAllFlag){var e=$(".health-class-results--wrapper").attr("data-resultscount");$(".search-filter-container .results-count").show().text(e)}var t,i;window.facilityFlag=!1,window.formatFlag=!1,window.languageFlag=!1,window.noFeeFlag=!1,window.resultsOnLoad&&(t=Object(s.b)(searchCriteriaCookieName),i=JSON.parse(t),console.log("Retaining filter cookies"+i),null===t||$.isEmptyObject(i)||(b("facility",i),b("format",i),b("language",i),b("fee",i)))}(),function(e,t,i,a){$("label[for='facility-item-default-v2']").text(e).attr("value",e),$(".facility-filter-section .radio-default").attr("value",e),$("label[for='format-item-default-v2']").text(t).attr("value",t),$(".class-filter-section .radio-default").attr("value",t),$("label[for='language-item-default-v2']").text(i).attr("value",i),$(".language-filter-section .radio-default").attr("value",i),$("label[for='fee-item-default-v2']").text(a).attr("value",a),$(".fee-filter-section .radio-default").attr("value",a)}(d,u,h,p),function(e){let t=function(e){let t="";e["added-sources"]&&e["added-sources"][0]&&(t=e["added-sources"][0]["total-results"]);return t}(e),i=$(".see-results-btn").attr("data-seeresultstext");i&&(i=i.replace("{count}",t),$(".see-results-btn").text(i),$(".see-results-btn").attr("data-analytics-click",i))}(e),$(".filters-section .show-more-less").removeClass("show-more-less--initialized"),Object(n.a)(),$(".filters-section .show-more-less-divider").prev(".show-more-less-group").remove(),$(".filters-section .show-more-less-toggle, .filters-section .show-more-less-divider, .filters-section .divider-small").remove(),I(".facility-filter-section"),I(".class-filter-section"),I(".language-filter-section"),Object(r.a)(".facility-filter-section",window.facilityFilterClick),Object(r.a)(".class-filter-section",window.formatFilterClick),Object(r.a)(".language-filter-section",window.languageFilterClick),Object(r.a)(".fee-filter-section",window.feeFilterClick))}(e)):($(".health-class-results-container").attr("data-resultscount","0"),$(".health-class-filters-wrapper").hide(),$(".--no-results-msg").show(),$(".health-classes-group").empty(),$(".classesPagination").hide(),_()):($(".--no-results-msg").show(),$(".health-classes-group").empty(),$(".classesPagination").hide(),$(".health-class-filters-wrapper").hide(),_())}(e)},error:function(e){console.log("Error"+e),$(".--error__results").show(),$(".health-classes-group").empty(),$(".classesPagination").hide(),$(".health-class-filters-wrapper").hide(),$(".health-class-result-text").hide()}})}function m(e,t,i){$(e+" .show-more-less-link").remove(),$(e+" .show-more-less-group").remove(),$(".search-filter-container .show-more-less hr").remove();let a=i;if($(e).find(".show-more-less-item:not(:first)").remove(),void 0===a)g(e,a);else for(var n in a)if(a.hasOwnProperty(n)){if("fee"===t){let i=$(".fee-filter-section").attr("data-nofee-label");$(e+" .show-more-less-item:last").after('<div class="show-more-less-item" data-hide="false"><input class="radio-button" id="'+t+"-item-"+n+'-v2" name="group-'+t+'-v2" type="radio" value="'+i+'"><label for="'+t+"-item-"+n+'-v2">'+i+"</label></div>")}else $(e+" .show-more-less-item:last").after('<div class="show-more-less-item" data-hide="false"><input class="radio-button" id="'+t+"-item-"+n+'-v2" name="group-'+t+'-v2" type="radio" value="'+a[n].label+'"><label for="'+t+"-item-"+n+'-v2">'+a[n].label+"(<span class='item-count'>"+a[n].ndocs+"</span>)</label></div>");g(e,a)}}function g(e,t){t&&0===t.length||void 0===t?($(e).hide(),$(e+" .radio-default").prop("checked",!0)):$(e).show()}function b(e,t){var i=t[e+"-chiclet"];if(i){var a=$("input[name=group-"+e+"-v2][value='"+i+"']");a.prop("checked",!0),a.attr("data-checked",!0)}}function v(){let e=$(this),t=e.parent().find(".-line-1").text(),i=e.closest(".facility-address").parent().prevAll(".class-details-info"),a=i.find(".program-title").text(),n=i.find(".format-title").text();"undefined"!=typeof _satellite&&_satellite&&_satellite.kpCustomEvent("hcdClicktoCall",{className:a,classType:n,facilityName:t})}function w(e,t){var i=e.split(","),a=t.split(",");return e!==t?i.length>=2&&a.length>=2&&i[1].trim()===a[1].trim()?i[0]+" - "+t:e+" - "+t:e}function y(e,t){var i;return e&&t?i=e+" - "+t:e&&!t?i=e:!e&&t&&(i=t),i}function C(e){var t=e.find(".date-time-block .session-block .-line-2").data("no-session");""!==t&&void 0!==t&&(e.find(".date-time-block .session-block .-line-2").text(t),e.find(".date-time-block .session-block .-line-3").remove())}function x(e){let t=e;setTimeout(()=>{t.find(".title__container").removeClass("content-loader"),t.find(".format__container").removeClass("content-loader"),t.find(".facility-desc__container").removeClass("content-loader"),t.find(".program-attendee").removeClass("content-loader"),t.find(".program-language").removeClass("content-loader"),t.find(".program-fee").removeClass("content-loader"),t.find(".facility-address").removeClass("content-loader"),t.find(".date-time-block").removeClass("content-loader"),t.find(".button_container").removeClass("content-loader")},2e3)}function _(){var e=$(".health-class-search-form-container").attr("data-usercity"),t=$(".health-class-search-form-container").attr("data-userzip"),i=$(".health-class-search-form-container").attr("data-topic"),a=L(t),n=L(e),s=L(i),r=$(".health-class-result-text").data("no-results-summary-pattern"),o=$(".health-class-result-text").data("in-label"),l=$(".health-class-result-text").data("for-label"),c=$(".search-form-group .clear-input-textbox").val(),d=!1,u=!1;null!=c&&""!==c&&(d=!0),null!=s&&""!==s&&(u=!0),d&&u&&(r=r.replace("{1}",l).replace("{2}",s).replace("{3}",o).replace("{4}",c)),!u&&d&&(r=r.replace("{1}",o).replace("{2} {3} {4}",c)),u&&!d&&(r=r.replace("{1}",l).replace("{2} {3} {4}",s)),$(".search-results-text").html('<div class="column-control-container -medium">'+r+"</div>"),$(".search-results-text").removeClass("-hidden"),k(n,a,s)}function k(e,t,i){null===e&&null===t&&null===i?$(".search-results-text").hide():$(".search-results-text").show()}function L(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))}function A(){$(".classesPagination .pagination-menu button.pagination-menu-dropdown").on("click",o.e),$(".classesPagination .pagination-menu-list li").on("click",F),$(".classesPagination .pagination-menu-list li").on("keydown",T),$(".classesPagination .pagination-menu-dropdown").on("keydown",o.f)}function S(e){if($(".classesPagination").length>0){$(".pagination-wrapper").find(".kpPagination__list").attr("id","health-classes-pagination"),$("ul#health-classes-pagination").jPagination({containerID:"health-classes-group",perPage:window.paginationCount,startPage:e,startRange:1,midRange:3,endRange:1,pHolder:"pHolder"})}}function P(){$(".health-classes-pagination .kpPagination__item:not(.-prev, .-next) .kpPagination__link").off("click").on("click",(function(){E($(this).find(".kpPagination__pageIndex").text())})),$(".health-classes-pagination .kpPagination__item.-prev .kpPagination__link").off("click").on("click",(function(e){e.preventDefault(),E(parseInt($(".health-classes-pagination .kpPagination__item.-active .kpPagination__pageIndex").text())-1)})),$(".health-classes-pagination .kpPagination__item.-next .kpPagination__link").off("click").on("click",(function(e){e.preventDefault(),E(parseInt($(".health-classes-pagination .kpPagination__item.-active .kpPagination__pageIndex").text())+1)}))}function E(e){window.paginationFlag=!0;var t=window.paginationCount;window._currentPageNum=e,$(".health-classes-group .page-wrapper").removeClass("-active"),$(".classesPagination").hide(),$(".health-classes-group").find(".health-class-result").removeAttr("aria-labelledby"),$(".health-classes-group").find(".health-class-result .class-details-info  .program-title").removeAttr("id");var i="#cards-page-"+e;if($(i).length>0){$(i).addClass("-active"),$(".-dropdownPagination .pagination-menu-list-op").removeClass("active"),$('.-dropdownPagination .pagination-menu-list-op[data-value="'+e+'"]').addClass("active");var a=$('.-dropdownPagination .pagination-menu-list-op[data-value="'+e+'"] .pagination-menu-list-text').text();$(".-dropdownPagination .pagination-menu-button-text").text(a),$(".classesPagination").show(),$(".-dropdownPagination").is(":visible")&&(S(e),A(),P()),D(),x($(i))}else{let i=O(e,t,$(".health-class-results-container").attr("data-search-url"));l.navUrl=i,f(i)}}function O(e,t,i){var a="root-"+(e*t-t)+"-"+t;let n=i;return n=n.replace(/(root-)\d*-\d*/,a),n}function F(e){e.preventDefault(),j($(this)),Object(o.a)()}function T(e){Object(o.d)(e.which),13!==e.which&&32!==e.which||(e.preventDefault(),j($(this)),Object(o.a)()),27!==e.which&&9!==e.which||(e.preventDefault(),Object(o.a)())}function j(e){!0!==e.hasClass("active")&&($(".classesPagination .pagination-menu-list .pagination-menu-list-op").removeClass("active"),e.addClass("active"),$(".classesPagination .pagination-menu-dropdown .pagination-menu-button-text").text(e.find(".pagination-menu-list-text").text()).attr("data-value",e.index()+1),window._currentPageNum=parseInt(e.attr("data-value")),E(window._currentPageNum),D())}function D(){$("html, body").animate({scrollTop:$(document).find("#health-class-result-text").offset().top},"slow")}function I(e){if($(".filters-section "+e+" .show-more-less-group").length>1){var t=$(".filters-section "+e+" .show-more-less-group:first").attr("aria-hidden");$(".filters-section "+e+" .show-more-less-link:first").remove(),$(".filters-section "+e+" .show-more-less-group:first").remove(),"false"===t&&$(".filters-section "+e+" .show-more-less-link").trigger("click")}}function N(e,t,i,a){void 0!==e&&""!==e&&(t.push(e),function(e,t,i){var a=e[e.length-1],n=$(t+" .chiclet-label");if(void 0===a||a.includes(c))$(t).addClass("hidden");else if($(t).removeClass("hidden"),$(t+" .chiclet-label").attr("title",a),a.length>33){var s=a.substring(0,33);n.html('<span class="screenreader-only">'+a+'</span><span aria-hidden="true">'+s+"&hellip;</span>")}else $(t+" .chiclet-label").text(a)}(t,i))}function z(e,t,i,a,n,s){return"facility"===e&&(i=e,a=t[e]),"format_label"===e&&(n=e,s=t[e]),{categoryFacKey:i,categoryFacLabel:a,categoryFormatKey:n,categoryFormatLabel:s}}function q(e,t,i,a,n,s){return"languages"===e&&(i=e,a=t[e]),"fee_required"===e&&(n=e,s=t[e]),{categoryLangKey:i,categoryLangLabel:a,categoryFeeKey:n,categoryFeeLabel:s}}function U(e,t,i,a,n){let s=$(".facility-filter-section .facility-filter-legend").children();if("facility"===t[e]["bs-id"]&&"facility"===i)$(".facility-filter-section .facility-filter-legend").text(a).append(s),d=c+" "+a.toLowerCase(),window.facilityFilterData=t[e].bins;else if("facility"===t[e]["bs-id"]){let i=B(e,t,n);$(".facility-filter-section .facility-filter-legend").text(i).append(s),d=c+" "+i.toLowerCase(),window.facilityFilterData=t[e].bins}}function H(e,t,i,a,n){let s=$(".class-filter-section .class-filter-legend").children();if("format_label"===t[e]["bs-id"]&&"format_label"===i)$(".class-filter-section .class-filter-legend").text(a).append(s),u=c+" "+a.toLowerCase(),window.formatFilterData=t[e].bins;else if("format_label"===t[e]["bs-id"]){let i=B(e,t,n);$(".class-filter-section .class-filter-legend").text(i).append(s),u=c+" "+i.toLowerCase(),window.formatFilterData=t[e].bins}}function M(e,t,i,a,n){let s=$(".language-filter-section .language-filter-legend").children();if("languages"===t[e]["bs-id"]&&"languages"===i)$(".language-filter-section .language-filter-legend").text(a).append(s),h=c+" "+a.toLowerCase(),window.languageFilterData=t[e].bins;else if("languages"===t[e]["bs-id"]){let i=B(e,t,n);$(".language-filter-section .language-filter-legend").text(i).append(s),h=c+" "+i.toLowerCase(),window.languageFilterData=t[e].bins}}function V(e,t,i,a,n){if(p=c,"fee_required"===t[e]["bs-id"]&&"fee_required"===i)$(".fee-filter-section").attr("data-nofee-label",a),window.feeFilterData=t[e].bins;else if("fee_required"===t[e]["bs-id"]){let i=B(e,t,n);$(".fee-filter-section").attr("data-nofee-label",i),window.feeFilterData=t[e].bins}}function B(e,t,i){return"es"===i?t[e].spanish:t[e].label}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var a=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},n=i(4);function s(e){var t,i,s,r;if(e=e||null,t=document.querySelector(e),i=e?t||null:document){"show-more-less","show-more-less--initialized",s=document.querySelectorAll(".show-more-less--initialized"),r=i.querySelectorAll(".show-more-less:not(.show-more-less--initialized)");var o={enter:13,space:32};r.length&&[].forEach.call(r,(function(e,t){!function(e,t){var i=Array.prototype.slice.call(e.querySelectorAll(".show-more-less-item")),r=i.length,l=e.getAttribute("data-show-first")||0,c=e.getAttribute("data-show-count")||!0,d=e.getAttribute("data-more-label")||"Show More",u=e.getAttribute("data-less-label")||"Show Less",h=r-l,p=["click","keydown"],f=t+s.length,m='<div class="show-more-less-group" id="hidden-group-'+f+'" aria-hidden="true" style="outline:none"></div>',g='<span class="show-more-less-link" data-analytics-type="Link" data-analytics-click="Expand/Collapse" aria-controls="hidden-group-'+f+'" aria-expanded="false" role="button" tabindex="0"></span>';if(e.classList.add("show-more-less--initialized"),e.setAttribute("id","show-more-less--"+f),l>0&&r>l){for(var b=i.slice(l),v=a(m),w=a('<hr class="divider-small">'),y=a(g),$=0;$<b.length;$++)v.appendChild(b[$]);v.style.display="none",e.appendChild(v),e.appendChild(w),e.appendChild(y),y.innerHTML=C(!0),function(e){p.forEach((function(t){y.addEventListener(t,(function(t){if("click"===t.type||t.keyCode===o.enter||t.keyCode===o.space){var i=e.querySelector("#"+t.target.getAttribute("aria-controls")),a=i.querySelectorAll("input, p, h2, h3, h4, h5, h6")[0];if(t.stopPropagation(),t.preventDefault(),"true"===this.getAttribute("aria-expanded")){this.setAttribute("aria-expanded","false"),i.setAttribute("aria-hidden","true"),i.style.display="none",a&&a.removeAttribute("tabindex"),y.innerHTML=C(!0);var s=Object(n.c)(y);Object(n.d)(y)||window.scrollTo({top:s,left:0,behavior:"smooth"}),y.focus()}else this.setAttribute("aria-expanded","true"),i.setAttribute("aria-hidden","false"),i.style.display="block",a?(a.setAttribute("tabindex","-1"),a.focus()):this.focus(),y.innerHTML=C(!1)}}))}))}(e)}function C(e){return e?d+("false"===c?' <span class="-hidden">('+h+")</span>":" ("+h+")"):u}}(e,t)}))}}},function(e,t,i){"use strict";function a(e){var t,i,a,s;if(e=e||null,t=document.querySelector(e),i=e?t||null:document){"clear-input-field","clear-input-field--initialized",a=document.querySelectorAll(".clear-input-field--initialized"),s=[].slice.call(i.querySelectorAll(".clear-input-field:not(.clear-input-field--initialized)"));var r=function(e,t){var i=e.querySelector(".clear-input-textbox"),s=e.querySelector(".clear-input-button"),r=t+a.length;e.classList.add("clear-input-field--initialized"),e.setAttribute("id","clear-input-field--"+r);var o=function(){s&&(s.setAttribute("tabindex","-1"),s.setAttribute("aria-hidden","true"),s.style.visibility="hidden")},l=function(){s&&(i.value.length>0?s&&(s.removeAttribute("tabindex"),s.setAttribute("aria-hidden","false"),s.style.visibility="visible"):o())},c=function(){o(),i.value="",i.focus()};n(),i&&(i.addEventListener("focus",(function(){n(),l()})),i.addEventListener("keyup",l)),s&&s.addEventListener("click",c)};s.length&&s.forEach((function(e,t){r(e,t)}))}}function n(e){[].slice.call(document.querySelectorAll(".clear-input-button")).forEach((function(e){e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true"),e.style.visibility="hidden"}))}i.d(t,"a",(function(){return a}))},function(e,t,i){"use strict";function a(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onload=function(e){i.status>=200&&i.status<400?t(i.response):t(null)},i.onerror=function(){t(null)},i.send(null)}function n(e,t){var i=t.parentNode;t.nextSibiling;e.parentNode===t?i.insertBefore(e,t):(t.appendChild(e),t.appendChild(e))}i.d(t,"a",(function(){return l}));const s="autocomplete-search";class r{constructor(e,t){if("object"==typeof e&&null!==e){if(this.el=e,this.options=t||{},e.hasAttribute("data-ref")&&e.removeAttribute("data-ref"),void 0!==e.dataset.ref)return r.ref[e.dataset.ref];this.ref=Object.keys(r.ref).length,e.dataset.ref=this.ref,r.ref[this.ref]=this,this.init()}}init(){this.defineVariables(),"true"===this.recommendedLinksShow&&this.getData("recommendedLinks"),"true"===this.searchSuggestionsShow&&this.getData("searchSuggestions"),this.setAriaDefaults(),this.setEventListeners(),this.el.classList.add("autocomplete-search--initialized")}defineVariables(){this.oneBasedIndex=this.ref+1,this.recommendedLinksShow=this.el.getAttribute("data-recommended-links")||!1,this.recommendedLinksUrl=this.el.getAttribute("data-recommended-links-url")||null,this.recommendedLinksAnnouncement=this.el.getAttribute("data-recommended-links-announcement")||null,this.recommendedLinksTracking=this.el.getAttribute("data-recommended-links-tracking")||null,this.recommendedLinksTitle="",this.recommendedLinksArray=[],this.recommendedLinksManual=!1,this.recommendedLinksEl=null,this.searchSuggestionsShow=this.el.getAttribute("data-search-suggestions")||!1,this.searchSuggestionsUrl=this.el.getAttribute("data-search-suggestions-url")||null,this.searchSuggestionsAnnouncement=this.el.getAttribute("data-search-suggestions-announcement")||null,this.searchSuggestionsTracking=this.el.getAttribute("data-search-suggestions-tracking")||null,this.searchSuggestionsTitle="",this.searchSuggestionsArray=[],this.resetAnnouncement=this.el.getAttribute("data-reset-announcement")||null,this.searchResultIcon=this.el.getAttribute("data-search-result-icon")||!0,this.minCharacters=this.el.getAttribute("data-min-characters")||3,this.maxResultsDisplayed=this.el.getAttribute("data-max-results")||9,this.inputWidth=this.el.getAttribute("data-input-width")||null,this.parentForm=this.el.querySelector("."+s+"__form"),this.label=this.el.querySelector("."+s+"__label"),this.combo=this.el.querySelector("."+s+"__combobox"),this.input=this.el.querySelector("."+s+"__input"),this.inputContainer=this.el.querySelector("."+s+"__input__container"),this.listbox=this.el.querySelector("."+s+"__listbox"),this.submitButton=this.el.querySelector("."+s+"__submit"),this.clearInputClass="clear-input-button",this.clearInputButton=this.el.querySelector("."+this.clearInputClass),this.defaultActiveIndex=-1,this.resultsCount=0,this.elId=s+"-"+this.oneBasedIndex,this.state="none",this.polite="",this.announcement="",this.announcementPrevious="",this.announcementForce=!1,this.listboxEsc=!1,this.layoutBreakpoint=768,this.currentBreakpoint="small",this.ds2LayoutBreakpoint=1151,this.currentDS2Breakpoint="medium",this.isGlobalStyle=!1,this.isExposedSearch=!1,this.isDs2Style=!1,this.isInputFocused=!1}getData(e){if("recommendedLinks"===e)if(null!==this.recommendedLinksUrl&&""!==this.recommendedLinksUrl)a(this.recommendedLinksUrl,e=>{if(null!==e){const t=JSON.parse(e);this.recommendedLinksTitle=t.title,this.recommendedLinksArray=t.links}else this.recommendedLinksShow=!1});else{const e=this.el.querySelector("."+s+"__manual")||null;e?(this.recommendedLinksEl=e.innerHTML||null,null!==this.recommendedLinksEl&&""!==this.recommendedLinksEl?this.recommendedLinksManual=!0:this.recommendedLinksShow=!1):this.recommendedLinksShow=!1}if("searchSuggestions"===e)if(null!==this.searchSuggestionsUrl&&""!==this.searchSuggestionsUrl)a(this.searchSuggestionsUrl,e=>{if(null!==e){const t=JSON.parse(e);this.searchSuggestionsTitle=t.title,this.searchSuggestionsArray=t.suggestions}else this.searchSuggestionsShow=!1});else{const e=this.el.querySelector("."+s+"__manual-search")||null;if(e){const t=e.innerHTML||null;if(null!==t&&""!==t){this.searchSuggestionsTitle=e.querySelector(".autocomplete-search__heading").innerText||null;const t=e.querySelectorAll("li")||null;[].forEach.call(t,e=>{this.searchSuggestionsArray.push(e.innerText)})}else this.searchSuggestionsShow=!1}else this.searchSuggestionsShow=!1}}setAriaDefaults(){this.el.setAttribute("id",this.elId),this.label.setAttribute("id",this.elId+"__label"),this.label.setAttribute("for",this.elId+"__input"),this.combo.setAttribute("id",this.elId+"__combobox"),this.input.setAttribute("id",this.elId+"__input"),"true"!==this.recommendedLinksShow&&"true"!==this.searchSuggestionsShow||(this.input.setAttribute("aria-autocomplete","list"),this.input.setAttribute("aria-controls",this.elId+"__listbox"),this.listbox.setAttribute("id",this.elId+"__listbox"),this.polite=document.createElement("div"),this.polite.setAttribute("class","screenreader-only"),this.polite.setAttribute("id",this.elId+"__live"),this.polite.setAttribute("aria-live","polite"),this.el.parentNode.insertBefore(this.polite,this.el.nextSibling))}setEventListeners(){this.setCurrentStyleVariation(),this.setCurrentBreakpoint(),window.addEventListener("resize",this.onDocumentResize.bind(this)),document.addEventListener("click",this.onDocumentClick.bind(this)),this.input.addEventListener("keyup",this.onPatternKeyup.bind(this)),this.input.addEventListener("keydown",this.onPatternKeydown.bind(this)),this.input.addEventListener("focus",this.onInputFocus.bind(this)),this.input.addEventListener("blur",()=>{"recommended-links"!==this.state&&this.onInputBlur()}),this.listbox.addEventListener("click",this.onListboxClick.bind(this)),this.listbox.addEventListener("keydown",this.onPatternKeydown.bind(this)),this.clearInputButton.addEventListener("click",()=>{setTimeout(()=>{this.clearListbox(),this.updateListbox()},0)})}onDocumentClick(e){if(e.target===this.input||this.combo.contains(e.target))return this.activeInput(),void this.removeActiveInputSpan();this.clearListbox(),this.removeActiveInputSpan()}onDocumentResize(){this.setCurrentBreakpoint(),this.updateInputFocusWidth()}onPatternKeyup(e){switch(e.which||e.keyCode){case 9:return e.target===this.input||this.combo.contains(e.target)?void this.activeInputSpan():void this.removeActiveInputSpan();case 16:case 38:case 40:case 27:case 13:return void e.preventDefault();default:setTimeout(()=>{this.clearListbox(),this.updateListbox()},0)}}onPatternKeydown(e){const t=e.which||e.keyCode;let i=this.defaultActiveIndex;if(this.activeInput(),this.removeActiveInputSpan(),this.resultsCount<1)return;let a,n=this.getItemAt(0),s=this.getItemAt(i),r=s||n,o=r?r.getAttribute("data-item"):void 0,l=[this.resultsCount,this.maxResultsDisplayed],c=Math.min.apply(Math,l),d=function(){-1===i||i>=c-1?i=0:i++},u=function(){i<=0?i=c-1:i--},h=function(){s&&s.classList.remove("focused")},p=()=>{a=this.getItemAt(i),this.defaultActiveIndex=i,h(),setTimeout(()=>{a?(this.input.setAttribute("aria-activedescendant","result-item-"+i),a.classList.add("focused"),a.focus()):this.input.removeAttribute("aria-activedescendant")},0)};switch(t){case 27:return this.listboxEsc=!0,this.input.focus(),void setTimeout(()=>{this.clearListbox()},0);case 38:return e.preventDefault(),this.setAsArrow(),u(),void setTimeout((function(){p()}),0);case 40:return e.preventDefault(),this.setAsArrow(),d(),void setTimeout((function(){p()}),0);case 9:if(this.removeActiveInput(),this.setAsTab(),e.shiftKey){if("1"===o)return h(),void this.clearListbox();if(void 0===o)return;e.preventDefault(),u(),"recommended-links"===this.state&&setTimeout(()=>{this.listboxEsc=!0,this.clearListbox(),this.submitButton.focus()},0),"search-suggestions"===this.state&&(this.listboxEsc=!0,this.clearListbox(),this.clearInputButton.focus())}else{if(-1!==i&&o===c)return h(),void this.clearListbox();if(void 0===o)return;e.preventDefault(),d(),"recommended-links"===this.state&&setTimeout(()=>{this.listboxEsc=!0,this.clearListbox(),this.submitButton.focus()},0),"search-suggestions"===this.state&&(this.listboxEsc=!0,this.clearListbox(),this.clearInputButton.focus())}return;case 13:case 32:return"recommended-links"===this.state?(a=this.getItemAt(i),a.focus(),void a.click()):(a=this.getItemAt(i),void this.selectItem(a));default:return}}onInputFocus(){this.clearListbox(),this.updateListbox(),this.listboxEsc?(this.announcementPrevious="",this.listboxEsc=!1):(this.announcementForce=!0,setTimeout(()=>{this.clearListbox(),this.updateListbox()},0))}onInputBlur(){this.removeActiveInput(),this.removeActiveInputSpan(),this.defaultActiveIndex}setCurrentStyleVariation(){this.el.classList.contains("-global")?this.isGlobalStyle=!0:this.el.classList.contains("-ds2")&&(this.isDs2Style=!0),this.el.classList.contains("-exposed-search")&&(this.isExposedSearch=!0),null!==this.inputWidth&&(this.combo.setAttribute("style","width: "+this.inputWidth+"px;"),this.parentForm&&this.parentForm.classList.add("-auto-width"))}setCurrentBreakpoint(){let e=!1,t=!1,i=(a=window,n=document.documentElement,s=n.getElementsByTagName("body")[0],a.innerWidth||n.clientWidth||s.clientWidth);var a,n,s;i>=this.layoutBreakpoint&&"large"!==this.currentBreakpoint?(this.currentBreakpoint="large",e=!0):i<=this.layoutBreakpoint&&"small"!==this.currentBreakpoint&&(this.currentBreakpoint="small",e=!0),i>=this.ds2LayoutBreakpoint&&"large"!==this.currentDS2Breakpoint?(this.currentDS2Breakpoint="large",t=!0):i<=this.ds2LayoutBreakpoint&&"medium"!==this.currentDS2Breakpoint&&(this.currentDS2Breakpoint="medium",t=!0),(e&&this.isGlobalStyle||t&&this.isDs2Style&&!this.isExposedSearch)&&this.updateDOMOrder()}updateDOMOrder(){var e=this.el.querySelector("."+s+"__form"),t=this.el.querySelector("."+s+"__close"),i=this.combo,a=this.el.querySelector(".container--ds2");t&&e&&n(t,e),this.isDs2Style&&a&&i&&n(a,i)}onListboxClick(e){e.target&&"LI"===e.target.nodeName&&this.selectItem(e.target)}removeActiveInput(){this.input.classList.contains("active-input")&&this.input.classList.remove("active-input")}activeInput(){this.input.classList.add("active-input")}removeActiveInputSpan(){this.isInputFocused=!1,this.inputContainer&&this.inputContainer.contains(this.input.previousElementSibling)&&this.input.previousElementSibling.remove()}activeInputSpan(){this.isInputFocused=!0;let e=document.createElement("span");this.inputContainer&&this.inputContainer.prepend(e),this.input.previousElementSibling.classList.add("focus-input"),this.updateInputFocusWidth()}updateInputFocusWidth(){if(this.isInputFocused){let e=this.input.offsetWidth+10;this.input.previousElementSibling.setAttribute("style","width: "+e+"px;")}}updateListbox(){let e=this.input.value;if(e.length>0)if(e.length>=this.minCharacters){let t=this.search(e);t.length?"true"===this.searchSuggestionsShow&&this.displaySearchSuggestions(e,t):this.displayNone()}else this.displayNone();else"true"===this.recommendedLinksShow&&this.displayRecommendedLinks()}displayNone(){this.announceState("none")}displayRecommendedLinks(){let e,t;if(!0===this.recommendedLinksManual){this.listbox.innerHTML=this.recommendedLinksEl,e=this.listbox.querySelector("legend"),t=this.listbox.querySelector("ul"),this.resultsCount=this.listbox.querySelectorAll("li").length;let i=t.querySelectorAll("li");[].forEach.call(i,(function(e){e.className=s+"__result -link"}));let a=t.querySelectorAll("a");[].forEach.call(a,(e,t)=>{let a=e.innerText,n=document.createElement("span");if(n.className="icon-zzz0014pageicon",e.setAttribute("id","result-item-"+t),e.setAttribute("tabindex","0"),e.setAttribute("data-item",t+1),e.className=s+"__link",e.setAttribute("data-analytics-type","link"),e.setAttribute("data-analytics-click",a),e.appendChild(n),this.isDs2Style){let t=document.createElement("div"),a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 9C5.34315 9 4 10.3431 4 12C4 13.6569 5.34315 15 7 15H9C9.55228 15 10 15.4477 10 16C10 16.5523 9.55228 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H7ZM8 12C8 11.4477 8.44772 11 9 11H15C15.5523 11 16 11.4477 16 12C16 12.5523 15.5523 13 15 13H9C8.44772 13 8 12.5523 8 12ZM20 12C20 10.3431 18.6569 9 17 9H15C14.4477 9 14 8.55228 14 8C14 7.44772 14.4477 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H15C14.4477 17 14 16.5523 14 16C14 15.4477 14.4477 15 15 15H17C18.6569 15 20 13.6569 20 12Z" fill="#0D1C3D"/></svg>';t.innerHTML=a,t.className="icon-",e.removeChild(n),i.appendChild(t)}})}else{for(var i in e=document.createElement("legend"),e.innerText=this.recommendedLinksTitle,t=document.createElement("ul"),this.listbox.appendChild(e),this.listbox.appendChild(t),this.recommendedLinksArray)if(this.recommendedLinksArray.hasOwnProperty(i)){let e=Object.keys(this.recommendedLinksArray).indexOf(i),a=document.createElement("span");a.className="icon-zzz0014pageicon";let n=document.createElement("a");n.innerText=i,n.setAttribute("href",this.recommendedLinksArray[i]),n.setAttribute("id","result-item-"+e),n.setAttribute("tabindex","0"),n.setAttribute("data-item",e+1),n.className="autocomplete-search__link",n.setAttribute("data-analytics-type","link"),n.setAttribute("data-analytics-click",i),n.appendChild(a);let s=document.createElement("li");if(s.className="autocomplete-search__result -link",s.appendChild(n),t.appendChild(s),this.isDs2Style){let e=document.createElement("div"),t='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 9C5.34315 9 4 10.3431 4 12C4 13.6569 5.34315 15 7 15H9C9.55228 15 10 15.4477 10 16C10 16.5523 9.55228 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H7ZM8 12C8 11.4477 8.44772 11 9 11H15C15.5523 11 16 11.4477 16 12C16 12.5523 15.5523 13 15 13H9C8.44772 13 8 12.5523 8 12ZM20 12C20 10.3431 18.6569 9 17 9H15C14.4477 9 14 8.55228 14 8C14 7.44772 14.4477 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H15C14.4477 17 14 16.5523 14 16C14 15.4477 14.4477 15 15 15H17C18.6569 15 20 13.6569 20 12Z" fill="#0D1C3D"/></svg>';e.innerHTML=t,e.className="icon-",n.removeChild(a),s.prepend(e)}}this.resultsCount=function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t}(this.recommendedLinksArray)}e.setAttribute("id",this.elId+"__recommended-label"),this.input.setAttribute("aria-expanded","true"),t.className=s+"__list",this.listbox.classList.remove("-hidden"),this.listbox.setAttribute("data-analytics-location",this.recommendedLinksTracking),this.announceState("recommended-links"),this.isExposedSearch?e.className=s+"__heading h3":e.className=s+"__heading styling-10 -book"}displaySearchSuggestions(e,t){let i=document.createElement("legend");i.setAttribute("id",this.elId+"__suggestions-label"),i.innerText=this.searchSuggestionsTitle,this.listbox.appendChild(i);let a=document.createElement("ul");a.className="autocomplete-search__list",a.setAttribute("role","presentation"),this.listbox.appendChild(a);for(let n=0;n<t.length;n++){let r=document.createElement("span");r.className="icon-search";let o=document.createElement("li");o.className="autocomplete-search__result",o.setAttribute("tabindex","0"),o.setAttribute("role","option"),o.setAttribute("id","result-item-"+n),o.setAttribute("data-item",n+1);let l=t[n];o.setAttribute("aria-label",l),o.setAttribute("data-analytics-type","link"),o.setAttribute("data-analytics-click",l);let c=new RegExp(e,"i");if(l=l.replace(c,'<span class="-typed">$&</span>'),o.innerHTML=l,this.isDs1Style&&("false"===this.searchResultIcon?o.classList.add("-no-icon"):o.appendChild(r)),n<this.maxResultsDisplayed&&a.appendChild(o),this.isDs2Style){"false"===this.searchResultIcon?a.classList.add("-no-icon"):o.prepend(r),this.isExposedSearch?i.className=s+"__heading h3":i.className=s+"__heading styling-10 -book screenreader-only",r.className="icon-";let e='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M21 12C21.0001 14.3732 20.0629 16.6503 18.3923 18.3358C16.7217 20.0214 14.4531 20.9789 12.08 21C11.8148 21 11.5604 20.8946 11.3729 20.7071C11.1854 20.5196 11.08 20.2652 11.08 20C11.08 19.7348 11.1854 19.4804 11.3729 19.2929C11.5604 19.1054 11.8148 19 12.08 19C13.461 18.9842 14.8064 18.5603 15.947 17.7816C17.0875 17.0029 17.9723 15.9042 18.4898 14.6238C19.0074 13.3434 19.1347 11.9385 18.8556 10.586C18.5765 9.23343 17.9036 7.99365 16.9215 7.02267C15.9395 6.05169 14.6921 5.3929 13.3365 5.12922C11.9808 4.86555 10.5775 5.00877 9.30307 5.54085C8.02864 6.07293 6.94008 6.97011 6.17438 8.11945C5.40869 9.2688 5.00009 10.619 5 12C5.05923 13.7726 5.77153 15.4608 7 16.74V15C7 14.7348 7.10536 14.4804 7.29289 14.2929C7.48043 14.1054 7.73478 14 8 14C8.26522 14 8.51957 14.1054 8.70711 14.2929C8.89464 14.4804 9 14.7348 9 15V19C9.00325 19.0137 9.00424 19.0278 9.00298 19.0417C9.00456 19.0778 9.00357 19.114 9 19.15C8.96384 19.3885 8.84272 19.6058 8.65895 19.762C8.47519 19.9182 8.24116 20.0027 8 20H4C3.73478 20 3.48043 19.8946 3.29289 19.7071C3.10536 19.5196 3 19.2652 3 19C3 18.7348 3.10536 18.4804 3.29289 18.2929C3.48043 18.1054 3.73478 18 4 18H5.49C3.95089 16.3739 3.06449 14.238 3 12C3 10.8181 3.23279 9.64778 3.68508 8.55585C4.13738 7.46392 4.80031 6.47177 5.63604 5.63604C6.47177 4.80031 7.46392 4.13738 8.55585 3.68508C9.64778 3.23279 10.8181 3 12 3C13.1819 3 14.3522 3.23279 15.4442 3.68508C16.5361 4.13738 17.5282 4.80031 18.364 5.63604C19.1997 6.47177 19.8626 7.46392 20.3149 8.55585C20.7672 9.64778 21 10.8181 21 12ZM14 15C13.7362 14.9962 13.4846 14.8884 13.3 14.7L11.3 12.7C11.1116 12.5154 11.0038 12.2638 11 12V8C11 7.73478 11.1054 7.48043 11.2929 7.29289C11.4804 7.10536 11.7348 7 12 7C12.2652 7 12.5196 7.10536 12.7071 7.29289C12.8946 7.48043 13 7.73478 13 8V11.58L14.71 13.29C14.8963 13.4774 15.0008 13.7308 15.0008 13.995C15.0008 14.2592 14.8963 14.5126 14.71 14.7C14.6174 14.7945 14.5069 14.8697 14.3851 14.9212C14.2632 14.9727 14.1323 14.9995 14 15Z" fill="#0D1C3D"/></svg>';r.innerHTML=e}}this.listbox.classList.remove("-hidden"),this.listbox.setAttribute("data-analytics-location",this.searchSuggestionsTracking),this.input.setAttribute("aria-expanded","true"),this.resultsCount=t.length,this.announceState("search-suggestions")}clearListbox(){"true"!==this.recommendedLinksShow&&"true"!==this.searchSuggestionsShow||(this.defaultActiveIndex=-1,this.listbox.innerHTML="",this.listbox.removeAttribute("role"),this.listbox.removeAttribute("data-analytics-location"),this.listbox.classList.add("-hidden"),this.input.setAttribute("aria-expanded","false"),this.input.removeAttribute("aria-activedescendant"))}announceState(e){this.state=e,"recommended-links"===this.state?this.announcement=this.recommendedLinksAnnouncement:"search-suggestions"===this.state?this.announcement=this.searchSuggestionsAnnouncement:"none"===this.state&&(this.announcement=this.resetAnnouncement);let t=()=>{this.polite&&(this.polite.innerHTML=this.announcement,this.announcementPrevious=this.announcement,setTimeout(()=>{this.polite.innerHTML=""},2e3))};(this.announcementForce||this.polite&&this.polite.innerHTML!==this.announcement&&this.announcement!==this.announcementPrevious)&&t(),this.announcementForce=!1}getItemAt(e){return document.getElementById("result-item-"+e)}selectItem(e){e&&(this.input.value=e.innerText,this.input.focus(),setTimeout(()=>{this.clearListbox()},0))}search(e){let t=[];for(let i=0;i<this.searchSuggestionsArray.length;i++){0===this.searchSuggestionsArray[i].toLowerCase().indexOf(e.toLowerCase())&&t.push(this.searchSuggestionsArray[i].toLowerCase())}return t}setAsTab(){this.listbox.classList.contains("-tab-event")||(this.listbox.classList.remove("-arrow-event"),this.listbox.classList.add("-tab-event"))}setAsArrow(){this.listbox.classList.contains("-arrow-event")||(this.listbox.classList.remove("-tab-event"),this.listbox.classList.add("-arrow-event"))}}r.ref={};class o{constructor(e){this.initAll(e)}initAll(e){let t,i=this;if(void 0===e||""===e)t=document;else if(document.querySelector(e))t=document.querySelector(e);else if(null===document.querySelector(e))return;const a=t.querySelectorAll("."+s+":not(.autocomplete-search--initialized)");a.length&&a.forEach((function(e){i.init(e)}))}init(e){return new r(e)}get(e){if(isNaN(e)){const t=document.querySelector(e);t&&(e=t.dataset.ref)}return r.ref[e]}}const l=e=>{const t=window.$kp=window.$kp||{};t.PL=t.PL||{},t.PL.AutocompleteSearch=new o(e)}},,function(e,t,i){"use strict";i.r(t),i.d(t,"validateZipCode",(function(){return A})),i.d(t,"checkValidInput",(function(){return S})),i.d(t,"loadTopics",(function(){return F})),i.d(t,"prefillFormVal",(function(){return T})),i.d(t,"getZipByLocation",(function(){return j})),i.d(t,"onClearForm",(function(){return I})),i.d(t,"setClearFocus",(function(){return N})),i.d(t,"validateFormValues",(function(){return z})),i.d(t,"showError",(function(){return U})),i.d(t,"onLoad",(function(){return x})),i.d(t,"onScreenLoad",(function(){return _})),i.d(t,"getTopics",(function(){return O})),i.d(t,"getDefaultTopicList",(function(){return E})),i.d(t,"getCities",(function(){return P})),i.d(t,"onCitySelection",(function(){return k})),i.d(t,"formActionUrl",(function(){return q})),i.d(t,"health_topic",(function(){return u})),i.d(t,"default_topic_value",(function(){return h})),i.d(t,"user_zip",(function(){return c})),i.d(t,"user_city",(function(){return l})),i.d(t,"load_timer",(function(){return b})),i.d(t,"myLocationClick",(function(){return R})),i.d(t,"getCurrentLocation",(function(){return W})),i.d(t,"hideLoader",(function(){return V})),i.d(t,"getPostalCode",(function(){return D}));i(12),i(13);var a=i(8),n=i(9),s=i(0);i.d(t,"populateCity",(function(){return s.k})),i.d(t,"getLucidResponse",(function(){return s.d})),i.d(t,"searchData",(function(){return s.p})),i.d(t,"getParamByName",(function(){return s.e}));var r=i(6),o=i(2);window.searchCriteriaCookieName="kp.hcdSearchFilters";var l,c,d,u,h,p,f,m,g,b,v={},w={},y=!1,C=!1;function x(){window.cookieDomainName=$("#cookieDomainName").val(),$(".health-class-search-form-container .clear-input-button").html('<img class="-close-icon" src="/etc.clientlibs/settings/wcm/designs/kporg/health-class-directory/v2/health-class-search/clientlib-modules/health-class-search/resources/assets/images/close-outline.svg" alt="" aria-hidden="true">'),Object(a.a)(),localStorage.removeItem("favoritesPagination"),$(".search-form-adaptive").length>0||(localStorage.removeItem("resultsPagination"),Object(o.a)(window.searchCriteriaCookieName)),void 0!==$(".health-class-search-form-container").attr("data-formallowed")&&void 0===$(".health-class-search-form-container").data("wcmmode-edit")&&($(".search-class-autocomplete-input").on("keyup input",s.n),$(".search-class-autocomplete-input").on("keyup",A),$("#select-topic").change(s.j),$(".search-form-group-city-zip .clear-input-button").click(I),$(".health-search-button").click(z),$(document).on("click keydown","li.autocomplete-search__result",k),_())}function _(){g=$(".search-filter-wrapper").data("currentlanguage"),window.searchCriteria["current-language"]=g,l=$(".health-class-search-form-container").attr("data-usercity"),c=$(".health-class-search-form-container").attr("data-userzip"),$(".health-class-search-form-container").attr("data-rop"),$(".health-class-search-form-container").attr("data-locale"),d=$(".health-class-search-form-container").attr("data-distance"),u=$(".health-class-search-form-container").attr("data-topic"),h=$(".search-form-group-topic").attr("data-topicdefault"),window.paginationCount=$(".health-class-results-container").attr("data-pagination-count"),b=$(".health-class-search-form-container").data("loadingtimer"),$("#user-location").click(R);var e=Object(s.e)(c),t=Object(s.e)(l);P(e,t),$(".search-form-adaptive").length>0&&T(),(e||t)&&E(),Object(s.s)()}function k(e){var t=$(this).text();"click"===e.type&&L(t),"keydown"===e.type&&(13!==e.keyCode&&32!==e.keyCode||L(t))}function L(e){p!==e?O():F(w)}function A(e){return 9!==e.which&&13!==e.which&&16!==e.which&&(Object(s.m)(),!0==!$("#health-class-search-form .error-field").is(":visible")&&$(".search-form-group-button").removeClass("--flex mg-btm"),t=$(this).val(),S(/^\d{5}$/.test(t)),i=/^[a-zA-Z\-\s()]+$/.test(t),5!==t.length&&$(".form-group-radius label").addClass("label-disabled"),i&&Object(s.i)(),8===e.which&&""===t&&I(),window.selectedTopic=$("#select-topic option:selected").text(),!0);var t,i}function S(e){if(e){y=!1;var t=$(".search-class-autocomplete-input").val();Object(s.a)(),t===p&&window.noTopicsFlag?(O(),window.noTopicsFlag=!1):t!==p?O():F(w),$(".form-group-radius label").removeClass("label-disabled")}else $(".search-class-autocomplete-input").val().length>0&&H()}function P(e,t){M(),$("#health-class-search-form").attr("data-region"),$("html").attr("lang").toLowerCase();var i=$("#health-class-search-form").attr("data-city-calltype");Object(s.d)(i,window.paginationCount);var a=s.p.apimsUrlWithParameters;$.ajax({type:"GET",url:a,dataType:"json",success:function(i){""!==i&&void 0===i.outage&&(Object(s.k)(i),$(".health-class-search-wrapper").removeClass("autocomplete-search--initialized"),setTimeout(()=>{Object(n.a)(),$("#health-class-search-form .clear-input-textbox").attr("id","locationLabel"),$("#health-class-search-form .city-zip-label").attr("for","locationLabel")},500),e||t||(F(i),V()))},error:function(e){console.log("Error"+e),window.outageFlag=!0}})}function E(){v={},$("#health-class-search-form").attr("data-region"),$("html").attr("lang").toLowerCase(),f=$("#health-class-search-form").attr("data-topic-calltype"),Object(s.d)(f,window.paginationCount);var e=s.p.apimsUrlWithParameters;M(),$.ajax({type:"GET",url:e,dataType:"json",success:function(e){""!==e&&void 0===e.outage&&(v=e,F(e),V(),$("body").attr("tabindex","-1").trigger("focus"),N())},error:function(e){console.log("Error"+e),window.outageFlag=!0}})}function O(){p=$(".search-class-autocomplete-input").val(),f=$("#health-class-search-form").attr("data-topic-calltype"),w={},Object(s.d)(f,window.paginationCount),m=s.p.apimsUrlWithParameters,M(),function(e){$.ajax({type:"GET",url:e,dataType:"json",success:function(e){""!==e&&void 0===e.outage&&(w=e,F(e),V(),y?y=!1:($(".search-class-autocomplete-input").focus(),setTimeout((function(){$("#health-class-search-form .autocomplete-search__listbox").addClass("-hidden")}),10)))},error:function(e){console.log("Error"+e),window.outageFlag=!0}})}(m)}function F(e){window.selectedTopic=$("#select-topic option:selected").text(),void 0!==e.binning?(e=e.binning["binning-set"],Object(s.l)(e,window.topicVal,h),Object(s.c)()):($("#select-topic option:contains("+h+")").prop("selected",!0),window.selectedTopic=$("#select-topic option:selected").text()),Object(s.s)()}function T(){$(".-validation-error").hide();var e=Object(s.e)(c),t=Object(s.e)(l),i=Object(s.e)(d),a=Object(s.e)(u),n=h;window.topicVal=a,null!==e?$(".search-class-autocomplete-input").val(e):$(".search-class-autocomplete-input").val(t),null===i&&(y=!0),!0===$("#select-topic").is(":disabled")&&(Object(s.b)(),F(v)),null!==a&&""!==a&&void 0!==a?$("#select-topic option:contains("+a+")").prop("selected",!0):$("#select-topic option:contains("+n+")").prop("selected",!0)}function j(e,t,i){var a=new google.maps.LatLng(t,i);e.geocode({latLng:a},(function(e,t){D(e,t)}))}function D(e,t){var i;if("OK"===t)for(var a in e[0].address_components){if(e[0].address_components[a].types.indexOf("postal_code")>-1)i=e[0].address_components[a].long_name,B(),$(".search-class-autocomplete-input").val(i),S(/^\d{5}$/.test(i)),console.log("Geocoder zipcode: "+i)}else console.log("Geocoder failed due to: "+t)}function I(){C=!0,Object(s.f)(),E()}function N(){C&&($(".search-class-autocomplete-input").focus(),C=!1)}function z(e){e.preventDefault(),window.paginationCount=$(".health-class-results-container").attr("data-pagination-count");let t=function(){let e=$(".search-class-autocomplete-input").val(),t=$("#select-topic option:selected").text(),i=void 0===e||""===e,a=void 0===t||""===t||t===h;if(i&&a)return!1;return!0}();var i=$(".search-class-autocomplete-input").val(),a=/^\d{5}$/.test(i),n=/^[a-zA-Z\-\s()]+$/.test(i);p=$(".search-class-autocomplete-input").val(),$(".form-group").find(".error-field").removeClass("error-field").removeAttr("aria-invalid"),$(".topic-field").removeAttr("aria-describedby"),t?(n||5===i.length)&&(a||n)||0===i.length?$(".search-form-group-topic .error-description").is(":visible")&&1===$("#select-topic option").length?($(".-validation-error .validation-error-text").text($(".search-form-group-topic").data("notopicserror")),Object(s.q)(),Object(s.c)()):(Object(s.h)(),function(e){var t=$(".search-class-autocomplete-input").val(),i=$("#select-topic option:selected").val(),a=Object(s.e)(c),n=Object(s.e)(l),r=Object(s.e)(u);null!==a&&(t!==a||i!==r)||null!==n&&(t!==n||i!==r)||i!==r?q(t,"50",i,e):($(".feed-container-search-results").show(),$(".health-class-result-text").attr("tabindex","-1").focus(),$(".search-results-text").show())}(n)):(U(),$(".-validation-error .validation-error-text").text($(".form-group-city-zip").data("zipcodeerror")),Object(s.q)(),Object(s.c)()):($(".-validation-error .validation-error-text").text($(".-validation-error").data("emptyformerror")),Object(s.q)(),Object(s.c)())}function q(e,t,i,a){var n,h=$(".health-class-search-form-container").data("author-viewaspublished"),p=$(".health-class-search-form-container").data("search-link"),f="?";if("viewAsPublished"===h?(n=p+"?wcmmode=disabled",f="&"):n=p,a?(void 0!==e&&(e=e.toLowerCase()),n=n+f+l+"="+e+"&"+u+"="+i):n=n+f+c+"="+e+"&"+d+"="+t+"&"+u+"="+i,window.name="KP_HCD_NEW_SEARCH",$(".search-form-adaptive").length>0){var m=window.location.protocol+"//"+window.location.host+n;window.history.pushState({path:m},"",m),$(".facility-filter-section .radio-default").prop("checked",!0),$(".class-filter-section .radio-default").prop("checked",!0),$(".language-filter-section .radio-default").prop("checked",!0),$(".fee-filter-section .radio-default").prop("checked",!0),Object(o.a)(window.searchCriteriaCookieName),window.resultsOnLoad=!1,Object(s.d)("searchResults",window.paginationCount),s.p.apimsUrlWithParameters,$(".health-class-results-container").attr("data-resultscall-updatefilters","true"),$(".chiclet-shell").addClass("hidden"),window.facilityFilterClick="",window.formatFilterClick="",window.languageFilterClick="",window.feeFilterClick="",Object(r.e)(s.p.apimsUrlWithParameters),window.paginationFlag=!1,window._currentPageNum=1,$(".classesPagination ul.kpPagination__list").empty()}else Object(o.a)(window.searchCriteriaCookieName),window.name="KP_HCD_NEW_SEARCH",window.location=n}function U(){return Object(s.g)(),!1}function H(){F(v),window.selectedTopic===h?$("#select-topic option:contains("+h+")").prop("selected",!0):$("#select-topic option:contains("+window.selectedTopic+")").prop("selected",!0)}function M(){$(".search-form-group *").removeClass("error-field").removeAttr("aria-invalid"),$(".search-form-group .error-description").hide(),$(".topic-field").removeAttr("aria-describedby"),$("#health-class-search-form .clear-input-textbox").removeAttr("aria-describedby"),$(".search-form-group-topic .loading-indicator").show(),$("#hw-form-section").length>0||$(".loading-indicator:visible").attr("tabindex","-1").focus(),$(".search-form-group-topic .select-one").hide(),$("#health-search-form").addClass("form-disabled"),$("#health-search-form").find("input, button.health-search-button, select").attr("disabled","disabled"),$(".search-form-group-topic label").css("visibility","hidden"),setTimeout((function(){V()}),b)}function V(){var e=$("#select-topic option").length;$(".search-form-group-topic .loading-indicator").hide(),$(".health-search-button").prop("disabled",!1),$(".search-form-group-topic .select-one").show(),(window.outageFlag||1===e)&&(Object(s.r)(),Object(s.c)()),$("#health-search-form").removeClass("form-disabled"),$(".search-form-group-topic label").css("visibility","visible"),$("#select-topic").attr("disabled",!1),$(".search-form-group-topic label").removeClass("label-disabled"),$("#health-search-form").find("input").attr("disabled",!1),window.outageFlag=!1}function B(){$(".search-class-autocomplete-input").removeClass("error-field").removeAttr("aria-invalid"),$(".search-clear-input-field .error-description").hide(),$("#health-class-search-form .clear-input-textbox").removeAttr("aria-describedby"),$(".search-form-group-city-zip .loading-indicator").hide(),$(".search-form-group-city-zip .loading-indicator").removeAttr("tabindex"),$(".search-class-autocomplete-input").show(),$(".search-form-group-city-zip .clear-input-button").show(),$("#health-class-search-form").removeClass("form-disabled"),$("#health-class-search-form").find("input, button.health-search-button, select").attr("disabled",!1),$(".search-form-group-city-zip .city-zip-label").css("visibility","visible"),$(".search-form-group-city-zip .pop-up-trigger").removeClass("disable-link")}function R(e){W(),e.preventDefault()}function W(){if(sessionStorage.setItem("browserLocationUsed",!1),navigator.geolocation){$(".search-form-group-button").removeClass("--flex mg-btm"),$(".search-form-group-city-zip .location-error.error-description").hide(),$(".search-form-group-city-zip .loading-indicator").show(),$(".search-class-autocomplete-input").hide(),$(".search-form-group-city-zip .clear-input-button").hide(),$("#health-class-search-form").addClass("form-disabled"),$("#health-class-search-form").find("input, button.health-search-button, select").attr("disabled","disabled"),$(".search-form-group-city-zip .city-zip-label").css("visibility","hidden"),$(".search-form-group-city-zip .pop-up-trigger").addClass("disable-link"),$(".loading-indicator:visible").attr("tabindex","-1").focus();var e,t,i=new google.maps.Geocoder;navigator.geolocation.getCurrentPosition((function(a){e=a.coords.latitude,t=a.coords.longitude,y=!1,j(i,e,t),$(".-validation-error").hide(),sessionStorage.browserLocationUsed=!0}),(function(){B(),p=$(".search-class-autocomplete-input").val(),window.topicVal="",sessionStorage.browserLocationUsed=!1,$(".search-form-group #select-topic, .search-class-autocomplete-input").removeClass("error-field").removeAttr("aria-invalid"),$(".search-form-group-topic label").removeClass("label-disabled"),$(".search-form-group .error-description").hide(),$("#health-class-search-form .clear-input-textbox").removeAttr("aria-describedby"),H(),$("#health-class-search-form").find("input").attr("disabled",!1),$(".search-form-group-city-zip .clear-input-button").hide(),window.selectedTopic=$("#select-topic option:selected").text(),$(".search-form-group-city-zip .location-error.error-description").show(),$(".search-form-group-button").addClass("--flex mg-btm"),$("#health-class-search-form .clear-input-textbox").attr("aria-describedby","location-input-error-description-list"),$(".topics-error").hide(),$(".zipcode-error").show(),$("#health-class-search-form #notification-pattern__title, #hw-form-section .notification-pattern__body p").focus(),$(".search-class-autocomplete-input").focus(),Object(s.c)()}))}}"undefined"!=typeof APF?APF.on("pageready",x):document.addEventListener("DOMContentLoaded",x)},function(e,t,i){},function(e,t,i){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.r(t);i(47),i(11)},function(e,t,i){}]);
